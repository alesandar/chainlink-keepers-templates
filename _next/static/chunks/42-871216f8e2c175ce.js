"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[42],{9762:function(e,t,r){r.d(t,{J1:function(){return E},Kn:function(){return k},NI:function(){return g},Yp:function(){return w},lX:function(){return T}});var n=r(7375),o=r(7178),i=r(9703),s=r(6450),a=r(7294),l=r(894);function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c.apply(this,arguments)}function u(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}var d=["id","isRequired","isInvalid","isDisabled","isReadOnly"],h=["getRootProps","htmlProps"],f=(0,s.kr)({strict:!1,name:"FormControlContext"}),m=f[0],p=f[1];var g=(0,o.Gp)((function(e,t){var r=(0,o.jC)("Form",e),l=function(e){var t=e.id,r=e.isRequired,o=e.isInvalid,l=e.isDisabled,h=e.isReadOnly,f=u(e,d),m=(0,n.Me)(),p=t||"field-"+m,g=p+"-label",v=p+"-feedback",b=p+"-helptext",y=a.useState(!1),w=y[0],k=y[1],E=a.useState(!1),N=E[0],_=E[1],T=(0,n.kt)(),I=T[0],P=T[1],R=a.useCallback((function(e,t){return void 0===e&&(e={}),void 0===t&&(t=null),c({id:b},e,{ref:(0,s.lq)(t,(function(e){e&&_(!0)}))})}),[b]),A=a.useCallback((function(e,t){var r,n;return void 0===e&&(e={}),void 0===t&&(t=null),c({},e,{ref:t,"data-focus":(0,i.PB)(I),"data-disabled":(0,i.PB)(l),"data-invalid":(0,i.PB)(o),"data-readonly":(0,i.PB)(h),id:null!=(r=e.id)?r:g,htmlFor:null!=(n=e.htmlFor)?n:p})}),[p,l,I,o,h,g]),O=a.useCallback((function(e,t){return void 0===e&&(e={}),void 0===t&&(t=null),c({id:v},e,{ref:(0,s.lq)(t,(function(e){e&&k(!0)})),"aria-live":"polite"})}),[v]),x=a.useCallback((function(e,t){return void 0===e&&(e={}),void 0===t&&(t=null),c({},e,f,{ref:t,role:"group"})}),[f]),C=a.useCallback((function(e,t){return void 0===e&&(e={}),void 0===t&&(t=null),c({},e,{ref:t,role:"presentation","aria-hidden":!0,children:e.children||"*"})}),[]);return{isRequired:!!r,isInvalid:!!o,isReadOnly:!!h,isDisabled:!!l,isFocused:!!I,onFocus:P.on,onBlur:P.off,hasFeedbackText:w,setHasFeedbackText:k,hasHelpText:N,setHasHelpText:_,id:p,labelId:g,feedbackId:v,helpTextId:b,htmlProps:f,getHelpTextProps:R,getErrorMessageProps:O,getRootProps:x,getLabelProps:A,getRequiredIndicatorProps:C}}((0,o.Lr)(e)),f=l.getRootProps;l.htmlProps;var p=u(l,h),g=(0,i.cx)("chakra-form-control",e.className);return a.createElement(m,{value:p},a.createElement(o.Fo,{value:r},a.createElement(o.m$.div,c({},f({},t),{className:g,__css:r.container}))))}));i.Ts&&(g.displayName="FormControl");var v=(0,o.Gp)((function(e,t){var r=p(),n=(0,o.yK)(),s=(0,i.cx)("chakra-form__helper-text",e.className);return a.createElement(o.m$.div,c({},null==r?void 0:r.getHelpTextProps(e,t),{__css:n.helperText,className:s}))}));i.Ts&&(v.displayName="FormHelperText");var b=["isDisabled","isInvalid","isReadOnly","isRequired"],y=["id","disabled","readOnly","required","isRequired","isInvalid","isReadOnly","isDisabled","onFocus","onBlur"];function w(e){var t=k(e),r=t.isDisabled,n=t.isInvalid,o=t.isReadOnly,s=t.isRequired;return c({},u(t,b),{disabled:r,readOnly:o,required:s,"aria-invalid":(0,i.Qm)(n),"aria-required":(0,i.Qm)(s),"aria-readonly":(0,i.Qm)(o)})}function k(e){var t,r,n,o=p(),s=e.id,a=e.disabled,l=e.readOnly,d=e.required,h=e.isRequired,f=e.isInvalid,m=e.isReadOnly,g=e.isDisabled,v=e.onFocus,b=e.onBlur,w=u(e,y),k=e["aria-describedby"]?[e["aria-describedby"]]:[];return null!=o&&o.hasFeedbackText&&null!=o&&o.isInvalid&&k.push(o.feedbackId),null!=o&&o.hasHelpText&&k.push(o.helpTextId),c({},w,{"aria-describedby":k.join(" ")||void 0,id:null!=s?s:null==o?void 0:o.id,isDisabled:null!=(t=null!=a?a:g)?t:null==o?void 0:o.isDisabled,isReadOnly:null!=(r=null!=l?l:m)?r:null==o?void 0:o.isReadOnly,isRequired:null!=(n=null!=d?d:h)?n:null==o?void 0:o.isRequired,isInvalid:null!=f?f:null==o?void 0:o.isInvalid,onFocus:(0,i.v0)(null==o?void 0:o.onFocus,v),onBlur:(0,i.v0)(null==o?void 0:o.onBlur,b)})}var E=(0,o.Gp)((function(e,t){var r=(0,o.jC)("FormError",e),n=(0,o.Lr)(e),s=p();return null!=s&&s.isInvalid?a.createElement(o.Fo,{value:r},a.createElement(o.m$.div,c({},null==s?void 0:s.getErrorMessageProps(n,t),{className:(0,i.cx)("chakra-form__error-message",e.className),__css:c({display:"flex",alignItems:"center"},r.text)}))):null}));i.Ts&&(E.displayName="FormErrorMessage");var N=(0,o.Gp)((function(e,t){var r=(0,o.yK)(),n=p();if(null==n||!n.isInvalid)return null;var s=(0,i.cx)("chakra-form__error-icon",e.className);return a.createElement(l.ZP,c({ref:t,"aria-hidden":!0},e,{__css:r.icon,className:s}),a.createElement("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"}))}));i.Ts&&(N.displayName="FormErrorIcon");var _=["className","children","requiredIndicator","optionalIndicator"],T=(0,o.Gp)((function(e,t){var r,n=(0,o.mq)("FormLabel",e),s=(0,o.Lr)(e);s.className;var l=s.children,d=s.requiredIndicator,h=void 0===d?a.createElement(I,null):d,f=s.optionalIndicator,m=void 0===f?null:f,g=u(s,_),v=p(),b=null!=(r=null==v?void 0:v.getLabelProps(g,t))?r:c({ref:t},g);return a.createElement(o.m$.label,c({},b,{className:(0,i.cx)("chakra-form__label",s.className),__css:c({display:"block",textAlign:"start"},n)}),l,null!=v&&v.isRequired?h:m)}));i.Ts&&(T.displayName="FormLabel");var I=(0,o.Gp)((function(e,t){var r=p(),n=(0,o.yK)();if(null==r||!r.isRequired)return null;var s=(0,i.cx)("chakra-form__required-indicator",e.className);return a.createElement(o.m$.span,c({},null==r?void 0:r.getRequiredIndicatorProps(e,t),{__css:n.requiredIndicator,className:s}))}));i.Ts&&(I.displayName="RequiredIndicator")},6114:function(e,t,r){r.d(t,{Y_:function(){return S},WQ:function(){return F},Y2:function(){return O},zu:function(){return C},Fi:function(){return x}});var n=r(9762),o=r(7178),i=r(9703),s=r(6450),a=r(7294),l=r(894),c=r(7375),u=r(4697);function d(e){void 0===e&&(e={});var t=e,r=t.onChange,n=t.precision,o=t.defaultValue,s=t.value,l=t.step,d=void 0===l?1:l,p=t.min,g=void 0===p?i.mq:p,v=t.max,b=void 0===v?i.fo:v,y=t.keepWithinRange,w=void 0===y||y,k=(0,u.u)(r),E=(0,a.useState)((function(){var e;return null==o?"":null!=(e=m(o,d,n))?e:""})),N=E[0],_=E[1],T=(0,c.pY)(s,N),I=T[0],P=T[1],R=f(h(P),d),A=null!=n?n:R,O=(0,a.useCallback)((function(e){e!==P&&(I||_(e.toString()),null==k||k(e.toString(),h(e)))}),[k,I,P]),x=(0,a.useCallback)((function(e){var t=e;return w&&(t=(0,i.HU)(t,g,b)),(0,i.Zd)(t,A)}),[A,w,b,g]),C=(0,a.useCallback)((function(e){var t;void 0===e&&(e=d),t=""===P?h(e):h(P)+e,t=x(t),O(t)}),[x,d,O,P]),B=(0,a.useCallback)((function(e){var t;void 0===e&&(e=d),t=""===P?h(-e):h(P)-e,t=x(t),O(t)}),[x,d,O,P]),S=(0,a.useCallback)((function(){var e,t;null==o?e="":e=null!=(t=m(o,d,n))?t:g;O(e)}),[o,n,d,O,g]),F=(0,a.useCallback)((function(e){var t,r=null!=(t=m(e,d,A))?t:g;O(r)}),[A,d,O,g]),D=h(P);return{isOutOfRange:D>b||D<g,isAtMax:D===b,isAtMin:D===g,precision:A,value:P,valueAsNumber:D,update:O,reset:S,increment:C,decrement:B,clamp:x,cast:F,setValue:_}}function h(e){return parseFloat(e.toString().replace(/[^\w.-]+/g,""))}function f(e,t){return Math.max((0,i.vk)(t),(0,i.vk)(e))}function m(e,t,r){var n=h(e);if(!Number.isNaN(n)){var o=f(n,t);return(0,i.Zd)(n,null!=r?r:o)}}function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},p.apply(this,arguments)}function g(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}var v=function(e){return a.createElement(l.JO,p({viewBox:"0 0 24 24"},e),a.createElement("path",{fill:"currentColor",d:"M21,5H3C2.621,5,2.275,5.214,2.105,5.553C1.937,5.892,1.973,6.297,2.2,6.6l9,12 c0.188,0.252,0.485,0.4,0.8,0.4s0.611-0.148,0.8-0.4l9-12c0.228-0.303,0.264-0.708,0.095-1.047C21.725,5.214,21.379,5,21,5z"}))},b=function(e){return a.createElement(l.JO,p({viewBox:"0 0 24 24"},e),a.createElement("path",{fill:"currentColor",d:"M12.8,5.4c-0.377-0.504-1.223-0.504-1.6,0l-9,12c-0.228,0.303-0.264,0.708-0.095,1.047 C2.275,18.786,2.621,19,3,19h18c0.379,0,0.725-0.214,0.895-0.553c0.169-0.339,0.133-0.744-0.095-1.047L12.8,5.4z"}))};function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function w(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"===typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function k(e,t,r,n){a.useEffect((function(){if(e.current&&n){var o=(0,i.kR)(e.current),s=Array.isArray(t)?t:[t],a=new o.MutationObserver((function(e){for(var t,n=w(e);!(t=n()).done;){var o=t.value;"attributes"===o.type&&o.attributeName&&s.includes(o.attributeName)&&r(o)}}));return a.observe(e.current,{attributes:!0,attributeFilter:s}),function(){return a.disconnect()}}}))}var E=["focusInputOnChange","clampValueOnBlur","keepWithinRange","min","max","step","isReadOnly","isDisabled","isRequired","isInvalid","pattern","inputMode","allowMouseWheel","id","onChange","precision","name","aria-describedby","aria-label","aria-labelledby","onFocus","onBlur","onInvalid","getAriaValueText","isValidCharacter","format","parse"],N=/^[Ee0-9+\-.]$/;function _(e){return N.test(e)}function T(e){void 0===e&&(e={});var t=e,r=t.focusInputOnChange,n=void 0===r||r,o=t.clampValueOnBlur,l=void 0===o||o,h=t.keepWithinRange,f=void 0===h||h,m=t.min,v=void 0===m?i.mq:m,b=t.max,y=void 0===b?i.fo:b,w=t.step,N=void 0===w?1:w,T=t.isReadOnly,I=t.isDisabled,P=t.isRequired,R=t.isInvalid,A=t.pattern,O=void 0===A?"[0-9]*(.[0-9]+)?":A,x=t.inputMode,C=void 0===x?"decimal":x,B=t.allowMouseWheel,S=t.id;t.onChange,t.precision;var F=t.name,D=t["aria-describedby"],L=t["aria-label"],U=t["aria-labelledby"],G=t.onFocus,$=t.onBlur,j=t.onInvalid,M=t.getAriaValueText,q=t.isValidCharacter,Y=t.format,z=t.parse,K=g(t,E),H=(0,u.u)(G),W=(0,u.u)($),V=(0,u.u)(j),J=(0,u.u)(null!=q?q:_),X=(0,u.u)(M),Z=d(e),Q=Z.update,ee=Z.increment,te=Z.decrement,re=(0,c.kt)(),ne=re[0],oe=re[1],ie=!(T||I),se=a.useRef(null),ae=a.useRef(null),le=a.useRef(null),ce=a.useRef(null),ue=a.useCallback((function(e){return e.split("").filter(J).join("")}),[J]),de=a.useCallback((function(e){var t;return null!=(t=null==z?void 0:z(e))?t:e}),[z]),he=a.useCallback((function(e){var t;return(null!=(t=null==Y?void 0:Y(e))?t:e).toString()}),[Y]);(0,c.rf)((function(){(Z.valueAsNumber>y||Z.valueAsNumber<v)&&(null==V||V("rangeOverflow",he(Z.value),Z.valueAsNumber))}),[Z.valueAsNumber,Z.value,he,V]),(0,u.a)((function(){if(se.current&&se.current.value!=Z.value){var e=de(se.current.value);Z.setValue(ue(e))}}),[de,ue]);var fe=a.useCallback((function(e){void 0===e&&(e=N),ie&&ee(e)}),[ee,ie,N]),me=a.useCallback((function(e){void 0===e&&(e=N),ie&&te(e)}),[te,ie,N]),pe=function(e,t){var r=(0,a.useState)(!1),n=r[0],o=r[1],i=(0,a.useState)(null),s=i[0],l=i[1],u=(0,a.useState)(!0),d=u[0],h=u[1],f=(0,a.useRef)(null),m=function(){return clearTimeout(f.current)};(0,c.Yz)((function(){"increment"===s&&e(),"decrement"===s&&t()}),n?50:null);var p=(0,a.useCallback)((function(){d&&e(),f.current=setTimeout((function(){h(!1),o(!0),l("increment")}),300)}),[e,d]),g=(0,a.useCallback)((function(){d&&t(),f.current=setTimeout((function(){h(!1),o(!0),l("decrement")}),300)}),[t,d]),v=(0,a.useCallback)((function(){h(!0),o(!1),m()}),[]);return(0,c.zq)(m),{up:p,down:g,stop:v,isSpinning:n}}(fe,me);k(le,"disabled",pe.stop,pe.isSpinning),k(ce,"disabled",pe.stop,pe.isSpinning);var ge=a.useCallback((function(e){if(!e.nativeEvent.isComposing){var t=de(e.currentTarget.value);Q(ue(t)),ae.current={start:e.currentTarget.selectionStart,end:e.currentTarget.selectionEnd}}}),[Q,ue,de]),ve=a.useCallback((function(e){var t,r,n;null==H||H(e),ae.current&&(e.target.selectionStart=null!=(t=ae.current.start)?t:null==(r=e.currentTarget.value)?void 0:r.length,e.currentTarget.selectionEnd=null!=(n=ae.current.end)?n:e.currentTarget.selectionStart)}),[H]),be=a.useCallback((function(e){if(!e.nativeEvent.isComposing){(function(e,t){if(null==e.key)return!0;var r=e.ctrlKey||e.altKey||e.metaKey;return!(1===e.key.length&&!r)||t(e.key)})(e,J)||e.preventDefault();var t=ye(e)*N,r={ArrowUp:function(){return fe(t)},ArrowDown:function(){return me(t)},Home:function(){return Q(v)},End:function(){return Q(y)}}[(0,i.uh)(e)];r&&(e.preventDefault(),r(e))}}),[J,N,fe,me,Q,v,y]),ye=function(e){var t=1;return(e.metaKey||e.ctrlKey)&&(t=.1),e.shiftKey&&(t=10),t},we=a.useMemo((function(){var e=null==X?void 0:X(Z.value);if(!(0,i.Ft)(e))return e;var t=Z.value.toString();return t||void 0}),[Z.value,X]),ke=a.useCallback((function(){var e=Z.value;""!==e&&(Z.valueAsNumber<v&&(e=v),Z.valueAsNumber>y&&(e=y),Z.cast(e))}),[Z,y,v]),Ee=a.useCallback((function(){oe.off(),l&&ke()}),[l,oe,ke]),Ne=a.useCallback((function(){n&&(0,i.T_)(se.current,{nextTick:!0})}),[n]),_e=a.useCallback((function(e){e.preventDefault(),pe.up(),Ne()}),[Ne,pe]),Te=a.useCallback((function(e){e.preventDefault(),pe.down(),Ne()}),[Ne,pe]);(0,u.b)("wheel",(function(e){var t=(0,i.lZ)(se.current).activeElement===se.current;if(B&&t){e.preventDefault();var r=ye(e)*N,n=Math.sign(e.deltaY);-1===n?fe(r):1===n&&me(r)}}),se.current,{passive:!1});var Ie=a.useCallback((function(e,t){void 0===e&&(e={}),void 0===t&&(t=null);var r=I||f&&Z.isAtMax;return p({},e,{ref:(0,s.lq)(t,le),role:"button",tabIndex:-1,onPointerDown:(0,i.v0)(e.onPointerDown,(function(e){r||_e(e)})),onPointerLeave:(0,i.v0)(e.onPointerLeave,pe.stop),onPointerUp:(0,i.v0)(e.onPointerUp,pe.stop),disabled:r,"aria-disabled":(0,i.Qm)(r)})}),[Z.isAtMax,f,_e,pe.stop,I]),Pe=a.useCallback((function(e,t){void 0===e&&(e={}),void 0===t&&(t=null);var r=I||f&&Z.isAtMin;return p({},e,{ref:(0,s.lq)(t,ce),role:"button",tabIndex:-1,onPointerDown:(0,i.v0)(e.onPointerDown,(function(e){r||Te(e)})),onPointerLeave:(0,i.v0)(e.onPointerLeave,pe.stop),onPointerUp:(0,i.v0)(e.onPointerUp,pe.stop),disabled:r,"aria-disabled":(0,i.Qm)(r)})}),[Z.isAtMin,f,Te,pe.stop,I]),Re=a.useCallback((function(e,t){var r,n,o,a;return void 0===e&&(e={}),void 0===t&&(t=null),p({name:F,inputMode:C,type:"text",pattern:O,"aria-labelledby":U,"aria-label":L,"aria-describedby":D,id:S,disabled:I},e,{readOnly:null!=(r=e.readOnly)?r:T,"aria-readonly":null!=(n=e.readOnly)?n:T,"aria-required":null!=(o=e.required)?o:P,required:null!=(a=e.required)?a:P,ref:(0,s.lq)(se,t),value:he(Z.value),role:"spinbutton","aria-valuemin":v,"aria-valuemax":y,"aria-valuenow":Number.isNaN(Z.valueAsNumber)?void 0:Z.valueAsNumber,"aria-invalid":(0,i.Qm)(null!=R?R:Z.isOutOfRange),"aria-valuetext":we,autoComplete:"off",autoCorrect:"off",onChange:(0,i.v0)(e.onChange,ge),onKeyDown:(0,i.v0)(e.onKeyDown,be),onFocus:(0,i.v0)(e.onFocus,ve,oe.on),onBlur:(0,i.v0)(e.onBlur,W,Ee)})}),[F,C,O,U,L,he,D,S,I,P,T,R,Z.value,Z.valueAsNumber,Z.isOutOfRange,v,y,we,ge,be,ve,oe.on,W,Ee]);return{value:he(Z.value),valueAsNumber:Z.valueAsNumber,isFocused:ne,isDisabled:I,isReadOnly:T,getIncrementButtonProps:Ie,getDecrementButtonProps:Pe,getInputProps:Re,htmlProps:K}}var I=["htmlProps"],P=(0,s.kr)({name:"NumberInputContext",errorMessage:"useNumberInputContext: `context` is undefined. Seems you forgot to wrap number-input's components within <NumberInput />"}),R=P[0],A=P[1],O=(0,o.Gp)((function(e,t){var r=(0,o.jC)("NumberInput",e),s=(0,o.Lr)(e),l=T((0,n.Kn)(s)),c=l.htmlProps,u=g(l,I),d=a.useMemo((function(){return u}),[u]);return a.createElement(R,{value:d},a.createElement(o.Fo,{value:r},a.createElement(o.m$.div,p({},c,{ref:t,className:(0,i.cx)("chakra-numberinput",e.className),__css:p({position:"relative",zIndex:0},r.root)}))))}));i.Ts&&(O.displayName="NumberInput");var x=(0,o.Gp)((function(e,t){var r=(0,o.yK)();return a.createElement(o.m$.div,p({"aria-hidden":!0,ref:t},e,{__css:p({display:"flex",flexDirection:"column",position:"absolute",top:"0",insetEnd:"0px",margin:"1px",height:"calc(100% - 2px)",zIndex:1},r.stepperGroup)}))}));i.Ts&&(x.displayName="NumberInputStepper");var C=(0,o.Gp)((function(e,t){var r=(0,A().getInputProps)(e,t),n=(0,o.yK)();return a.createElement(o.m$.input,p({},r,{className:(0,i.cx)("chakra-numberinput__field",e.className),__css:p({width:"100%"},n.field)}))}));i.Ts&&(C.displayName="NumberInputField");var B=(0,o.m$)("div",{baseStyle:{display:"flex",justifyContent:"center",alignItems:"center",flex:1,transitionProperty:"common",transitionDuration:"normal",userSelect:"none",cursor:"pointer",lineHeight:"normal"}}),S=(0,o.Gp)((function(e,t){var r,n=(0,o.yK)(),i=(0,A().getDecrementButtonProps)(e,t);return a.createElement(B,p({},i,{__css:n.stepper}),null!=(r=e.children)?r:a.createElement(v,null))}));i.Ts&&(S.displayName="NumberDecrementStepper");var F=(0,o.Gp)((function(e,t){var r,n=(0,A().getIncrementButtonProps)(e,t),i=(0,o.yK)();return a.createElement(B,p({},n,{__css:i.stepper}),null!=(r=e.children)?r:a.createElement(b,null))}));i.Ts&&(F.displayName="NumberIncrementStepper")},3465:function(e,t,r){r.d(t,{OK:function(){return A},mQ:function(){return R},nP:function(){return C},td:function(){return O},x4:function(){return x}});var n=r(7178),o=r(9703),i=r(7294),s=r(7096),a=r(242),l=r(7375),c=r(4697),u=r(6450);function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d.apply(this,arguments)}function h(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}var f=["defaultIndex","onChange","index","isManual","isLazy","lazyBehavior","orientation","direction"],m=["isDisabled","isFocusable"],p=["isSelected","id","children"],g=(0,a.n)(),v=g[0],b=g[1],y=g[2],w=g[3];var k=(0,u.kr)({name:"TabsContext",errorMessage:"useTabsContext: `context` is undefined. Seems you forgot to wrap all tabs components within <Tabs />"}),E=k[0],N=k[1];function _(e,t){return e+"--tab-"+t}function T(e,t){return e+"--tabpanel-"+t}var I=["children","className"],P=["htmlProps","descendants"],R=(0,n.Gp)((function(e,t){var r=(0,n.jC)("Tabs",e),s=(0,n.Lr)(e),a=s.children,c=s.className,u=function(e){var t=e.defaultIndex,r=e.onChange,n=e.index,o=e.isManual,s=e.isLazy,a=e.lazyBehavior,c=void 0===a?"unmount":a,u=e.orientation,d=void 0===u?"horizontal":u,m=e.direction,p=void 0===m?"ltr":m,g=h(e,f),v=i.useState(null!=t?t:0),b=v[0],w=v[1],k=(0,l.Tx)({defaultValue:null!=t?t:0,value:n,onChange:r}),E=k[0],N=k[1];i.useEffect((function(){null!=n&&w(n)}),[n]);var _=y();return{id:(0,l.Me)(e.id,"tabs"),selectedIndex:E,focusedIndex:b,setSelectedIndex:N,setFocusedIndex:w,isManual:o,isLazy:s,lazyBehavior:c,orientation:d,descendants:_,direction:p,htmlProps:g}}(h(s,I)),m=u.htmlProps,p=u.descendants,g=h(u,P),b=i.useMemo((function(){return g}),[g]),w=(0,o.CE)(m,["isFitted"]);return i.createElement(v,{value:p},i.createElement(E,{value:b},i.createElement(n.Fo,{value:r},i.createElement(n.m$.div,d({className:(0,o.cx)("chakra-tabs",c),ref:t},w,{__css:r.root}),a))))}));o.Ts&&(R.displayName="Tabs");var A=(0,n.Gp)((function(e,t){var r=(0,n.yK)(),a=function(e){var t=e.isDisabled,r=e.isFocusable,n=h(e,m),i=N(),a=i.setSelectedIndex,l=i.isManual,c=i.id,f=i.setFocusedIndex,p=i.selectedIndex,g=w({disabled:t&&!r}),v=g.index,b=g.register,y=v===p,k=(0,s.h)(d({},n,{ref:(0,u.lq)(b,e.ref),isDisabled:t,isFocusable:r,onClick:(0,o.v0)(e.onClick,(function(){a(v)}))}));return d({},k,{id:_(c,v),role:"tab",tabIndex:y?0:-1,type:"button","aria-selected":y,"aria-controls":T(c,v),onFocus:t?void 0:(0,o.v0)(e.onFocus,(function(){f(v),!l&&(!t||!r)&&a(v)}))})}(d({},e,{ref:t})),l=d({outline:"0",display:"flex",alignItems:"center",justifyContent:"center"},r.tab);return i.createElement(n.m$.button,d({},a,{className:(0,o.cx)("chakra-tabs__tab",e.className),__css:l}))}));o.Ts&&(A.displayName="Tab");var O=(0,n.Gp)((function(e,t){var r=function(e){var t=N(),r=t.focusedIndex,n=t.orientation,s=t.direction,a=b(),l=i.useCallback((function(e){var t,i=function(){var e=a.nextEnabled(r);e&&(0,o.T_)(e.node)},l=function(){var e=a.prevEnabled(r);e&&(0,o.T_)(e.node)},c="horizontal"===n,u="vertical"===n,d=(0,o.uh)(e),h="ltr"===s?"ArrowRight":"ArrowLeft",f=((t={})["ltr"===s?"ArrowLeft":"ArrowRight"]=function(){return c&&l()},t[h]=function(){return c&&i()},t.ArrowDown=function(){return u&&i()},t.ArrowUp=function(){return u&&l()},t.Home=function(){var e=a.firstEnabled();e&&(0,o.T_)(e.node)},t.End=function(){var e=a.lastEnabled();e&&(0,o.T_)(e.node)},t)[d];f&&(e.preventDefault(),f(e))}),[a,r,n,s]);return d({},e,{role:"tablist","aria-orientation":n,onKeyDown:(0,o.v0)(e.onKeyDown,l)})}(d({},e,{ref:t})),s=d({display:"flex"},(0,n.yK)().tablist);return i.createElement(n.m$.div,d({},r,{className:(0,o.cx)("chakra-tabs__tablist",e.className),__css:s}))}));o.Ts&&(O.displayName="TabList");var x=(0,n.Gp)((function(e,t){var r=function(e){var t=e.isSelected,r=e.id,n=e.children,s=h(e,p),a=N(),l=a.isLazy,c=a.lazyBehavior,u=i.useRef(!1);return t&&(u.current=!0),d({tabIndex:0},s,{children:(0,o.VI)({hasBeenSelected:u.current,isSelected:t,isLazy:l,lazyBehavior:c})?n:null,role:"tabpanel",hidden:!t,id:r})}(d({},e,{ref:t})),s=(0,n.yK)();return i.createElement(n.m$.div,d({outline:"0"},r,{className:(0,o.cx)("chakra-tabs__tab-panel",e.className),__css:s.tabpanel}))}));o.Ts&&(x.displayName="TabPanel");var C=(0,n.Gp)((function(e,t){var r=function(e){var t=N(),r=t.id,n=t.selectedIndex;return d({},e,{children:(0,u.WR)(e.children).map((function(e,t){return i.cloneElement(e,{isSelected:t===n,id:T(r,t),"aria-labelledby":_(r,t)})}))})}(e),s=(0,n.yK)();return i.createElement(n.m$.div,d({},r,{width:"100%",ref:t,className:(0,o.cx)("chakra-tabs__tab-panels",e.className),__css:s.tabpanels}))}));o.Ts&&(C.displayName="TabPanels");var B=(0,n.Gp)((function(e,t){var r=function(){var e=N(),t=b(),r=e.selectedIndex,n=e.orientation,s="horizontal"===n,a="vertical"===n,l=i.useState((function(){return s?{left:0,width:0}:a?{top:0,height:0}:void 0})),u=l[0],h=l[1],f=i.useState(!1),m=f[0],p=f[1];return(0,c.a)((function(){if(!(0,o.o8)(r)){var e=t.item(r);if(!(0,o.o8)(e)){s&&h({left:e.node.offsetLeft,width:e.node.offsetWidth}),a&&h({top:e.node.offsetTop,height:e.node.offsetHeight});var n=requestAnimationFrame((function(){p(!0)}));return function(){n&&cancelAnimationFrame(n)}}}}),[r,s,a,t]),d({position:"absolute",transitionProperty:"left, right, top, bottom, height, width",transitionDuration:m?"200ms":"0ms",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)"},u)}(),s=d({},e.style,r),a=(0,n.yK)();return i.createElement(n.m$.div,d({ref:t},e,{className:(0,o.cx)("chakra-tabs__tab-indicator",e.className),style:s,__css:a.indicator}))}));o.Ts&&(B.displayName="TabIndicator")},883:function(e,t,r){r.d(t,{yl:function(){return er}});var n=r(1581);const o=new n.Yd("networks/5.6.4");function i(e){const t=function(t,r){null==r&&(r={});const n=[];if(t.InfuraProvider&&"-"!==r.infura)try{n.push(new t.InfuraProvider(e,r.infura))}catch(o){}if(t.EtherscanProvider&&"-"!==r.etherscan)try{n.push(new t.EtherscanProvider(e,r.etherscan))}catch(o){}if(t.AlchemyProvider&&"-"!==r.alchemy)try{n.push(new t.AlchemyProvider(e,r.alchemy))}catch(o){}if(t.PocketProvider&&"-"!==r.pocket){const i=["goerli","ropsten","rinkeby"];try{const o=new t.PocketProvider(e,r.pocket);o.network&&-1===i.indexOf(o.network.name)&&n.push(o)}catch(o){}}if(t.CloudflareProvider&&"-"!==r.cloudflare)try{n.push(new t.CloudflareProvider(e))}catch(o){}if(t.AnkrProvider&&"-"!==r.ankr)try{const o=["ropsten"],i=new t.AnkrProvider(e,r.ankr);i.network&&-1===o.indexOf(i.network.name)&&n.push(i)}catch(o){}if(0===n.length)return null;if(t.FallbackProvider){let o=1;return null!=r.quorum?o=r.quorum:"homestead"===e&&(o=2),new t.FallbackProvider(n,o)}return n[0]};return t.renetwork=function(e){return i(e)},t}function s(e,t){const r=function(r,n){return r.JsonRpcProvider?new r.JsonRpcProvider(e,t):null};return r.renetwork=function(t){return s(e,t)},r}const a={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:i("homestead")},l={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:i("ropsten")},c={chainId:63,name:"classicMordor",_defaultProvider:s("https://www.ethercluster.com/mordor","classicMordor")},u={unspecified:{chainId:0,name:"unspecified"},homestead:a,mainnet:a,morden:{chainId:2,name:"morden"},ropsten:l,testnet:l,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:i("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:i("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:i("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},classic:{chainId:61,name:"classic",_defaultProvider:s("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:c,classicTestnet:c,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:s("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:i("matic")},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism",_defaultProvider:i("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function d(e){if(null==e)return null;if("number"===typeof e){for(const t in u){const r=u[t];if(r.chainId===e)return{name:r.name,chainId:r.chainId,ensAddress:r.ensAddress||null,_defaultProvider:r._defaultProvider||null}}return{chainId:e,name:"unknown"}}if("string"===typeof e){const t=u[e];return null==t?null:{name:t.name,chainId:t.chainId,ensAddress:t.ensAddress,_defaultProvider:t._defaultProvider||null}}const t=u[e.name];if(!t)return"number"!==typeof e.chainId&&o.throwArgumentError("invalid network chainId","network",e),e;0!==e.chainId&&e.chainId!==t.chainId&&o.throwArgumentError("network chainId mismatch","network",e);let r=e._defaultProvider||null;var n;return null==r&&t._defaultProvider&&(r=(n=t._defaultProvider)&&"function"===typeof n.renetwork?t._defaultProvider.renetwork(e):t._defaultProvider),{name:e.name,chainId:t.chainId,ensAddress:e.ensAddress||t.ensAddress||null,_defaultProvider:r}}var h=r(6881),f=r(9485),m=r(2593),p=r(6441);var g=r(6056);const v="providers/5.5.1",b=new n.Yd(v);class y{constructor(){b.checkNew(new.target,y),this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},t=this.address.bind(this),r=this.bigNumber.bind(this),n=this.blockTag.bind(this),o=this.data.bind(this),i=this.hash.bind(this),s=this.hex.bind(this),a=this.number.bind(this),l=this.type.bind(this);return e.transaction={hash:i,type:l,accessList:y.allowNull(this.accessList.bind(this),null),blockHash:y.allowNull(i,null),blockNumber:y.allowNull(a,null),transactionIndex:y.allowNull(a,null),confirmations:y.allowNull(a,null),from:t,gasPrice:y.allowNull(r),maxPriorityFeePerGas:y.allowNull(r),maxFeePerGas:y.allowNull(r),gasLimit:r,to:y.allowNull(t,null),value:r,nonce:a,data:o,r:y.allowNull(this.uint256),s:y.allowNull(this.uint256),v:y.allowNull(a),creates:y.allowNull(t,null),raw:y.allowNull(o)},e.transactionRequest={from:y.allowNull(t),nonce:y.allowNull(a),gasLimit:y.allowNull(r),gasPrice:y.allowNull(r),maxPriorityFeePerGas:y.allowNull(r),maxFeePerGas:y.allowNull(r),to:y.allowNull(t),value:y.allowNull(r),data:y.allowNull((e=>this.data(e,!0))),type:y.allowNull(a),accessList:y.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:a,blockNumber:a,transactionHash:i,address:t,topics:y.arrayOf(i),data:o,logIndex:a,blockHash:i},e.receipt={to:y.allowNull(this.address,null),from:y.allowNull(this.address,null),contractAddress:y.allowNull(t,null),transactionIndex:a,root:y.allowNull(s),gasUsed:r,logsBloom:y.allowNull(o),blockHash:i,transactionHash:i,logs:y.arrayOf(this.receiptLog.bind(this)),blockNumber:a,confirmations:y.allowNull(a,null),cumulativeGasUsed:r,effectiveGasPrice:y.allowNull(r),status:y.allowNull(a),type:l},e.block={hash:i,parentHash:i,number:a,timestamp:a,nonce:y.allowNull(s),difficulty:this.difficulty.bind(this),gasLimit:r,gasUsed:r,miner:t,extraData:o,transactions:y.allowNull(y.arrayOf(i)),baseFeePerGas:y.allowNull(r)},e.blockWithTransactions=(0,h.DC)(e.block),e.blockWithTransactions.transactions=y.allowNull(y.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:y.allowNull(n,void 0),toBlock:y.allowNull(n,void 0),blockHash:y.allowNull(i,void 0),address:y.allowNull(t,void 0),topics:y.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:y.allowNull(a),blockHash:y.allowNull(i),transactionIndex:a,removed:y.allowNull(this.boolean.bind(this)),address:t,data:y.allowFalsish(o,"0x"),topics:y.arrayOf(i),transactionHash:i,logIndex:a},e}accessList(e){return(0,g.z7)(e||[])}number(e){return"0x"===e?0:m.O$.from(e).toNumber()}type(e){return"0x"===e||null==e?0:m.O$.from(e).toNumber()}bigNumber(e){return m.O$.from(e)}boolean(e){if("boolean"===typeof e)return e;if("string"===typeof e){if("true"===(e=e.toLowerCase()))return!0;if("false"===e)return!1}throw new Error("invalid boolean - "+e)}hex(e,t){return"string"===typeof e&&(t||"0x"===e.substring(0,2)||(e="0x"+e),(0,p.A7)(e))?e.toLowerCase():b.throwArgumentError("invalid hash","value",e)}data(e,t){const r=this.hex(e,t);if(r.length%2!==0)throw new Error("invalid data; odd-length - "+e);return r}address(e){return(0,f.Kn)(e)}callAddress(e){if(!(0,p.A7)(e,32))return null;const t=(0,f.Kn)((0,p.p3)(e,12));return"0x0000000000000000000000000000000000000000"===t?null:t}contractAddress(e){return(0,f.CR)(e)}blockTag(e){if(null==e)return"latest";if("earliest"===e)return"0x0";if("latest"===e||"pending"===e)return e;if("number"===typeof e||(0,p.A7)(e))return(0,p.$P)(e);throw new Error("invalid blockTag")}hash(e,t){const r=this.hex(e,t);return 32!==(0,p.E1)(r)?b.throwArgumentError("invalid hash","value",e):r}difficulty(e){if(null==e)return null;const t=m.O$.from(e);try{return t.toNumber()}catch(r){}return null}uint256(e){if(!(0,p.A7)(e))throw new Error("invalid uint256");return(0,p.$m)(e,32)}_block(e,t){null!=e.author&&null==e.miner&&(e.miner=e.author);const r=null!=e._difficulty?e._difficulty:e.difficulty,n=y.check(t,e);return n._difficulty=null==r?null:m.O$.from(r),n}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return y.check(this.formats.transactionRequest,e)}transactionResponse(e){null!=e.gas&&null==e.gasLimit&&(e.gasLimit=e.gas),e.to&&m.O$.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),null!=e.input&&null==e.data&&(e.data=e.input),null==e.to&&null==e.creates&&(e.creates=this.contractAddress(e)),1!==e.type&&2!==e.type||null!=e.accessList||(e.accessList=[]);const t=y.check(this.formats.transaction,e);if(null!=e.chainId){let r=e.chainId;(0,p.A7)(r)&&(r=m.O$.from(r).toNumber()),t.chainId=r}else{let r=e.networkId;null==r&&null==t.v&&(r=e.chainId),(0,p.A7)(r)&&(r=m.O$.from(r).toNumber()),"number"!==typeof r&&null!=t.v&&(r=(t.v-35)/2,r<0&&(r=0),r=parseInt(r)),"number"!==typeof r&&(r=0),t.chainId=r}return t.blockHash&&"x"===t.blockHash.replace(/0/g,"")&&(t.blockHash=null),t}transaction(e){return(0,g.Qc)(e)}receiptLog(e){return y.check(this.formats.receiptLog,e)}receipt(e){const t=y.check(this.formats.receipt,e);if(null!=t.root)if(t.root.length<=4){const e=m.O$.from(t.root).toNumber();0===e||1===e?(null!=t.status&&t.status!==e&&b.throwArgumentError("alt-root-status/status mismatch","value",{root:t.root,status:t.status}),t.status=e,delete t.root):b.throwArgumentError("invalid alt-root-status","value.root",t.root)}else 66!==t.root.length&&b.throwArgumentError("invalid root hash","value.root",t.root);return null!=t.status&&(t.byzantium=!0),t}topics(e){return Array.isArray(e)?e.map((e=>this.topics(e))):null!=e?this.hash(e,!0):null}filter(e){return y.check(this.formats.filter,e)}filterLog(e){return y.check(this.formats.filterLog,e)}static check(e,t){const r={};for(const o in e)try{const n=e[o](t[o]);void 0!==n&&(r[o]=n)}catch(n){throw n.checkKey=o,n.checkValue=t[o],n}return r}static allowNull(e,t){return function(r){return null==r?t:e(r)}}static allowFalsish(e,t){return function(r){return r?e(r):t}}static arrayOf(e){return function(t){if(!Array.isArray(t))throw new Error("not an array");const r=[];return t.forEach((function(t){r.push(e(t))})),r}}}function w(e){return function(e){return e&&"function"===typeof e.isCommunityResource}(e)&&e.isCommunityResource()}let k=!1;function E(){k||(k=!0,console.log("========= NOTICE ========="),console.log("Request-Rate Exceeded  (this message will not be repeated)"),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.io/api-keys/"),console.log("=========================="))}var N=r(8088),_=r(8197);const T="hash/5.6.1";var I=r(2046),P=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{l(n.next(e))}catch(t){i(t)}}function a(e){try{l(n.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};const R=new n.Yd(T),A=new Uint8Array(32);A.fill(0);const O=m.O$.from(-1),x=m.O$.from(0),C=m.O$.from(1),B=m.O$.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const S=(0,p.$m)(C.toHexString(),32),F=(0,p.$m)(x.toHexString(),32),D={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},L=["name","version","chainId","verifyingContract","salt"];function U(e){return function(t){return"string"!==typeof t&&R.throwArgumentError(`invalid domain value for ${JSON.stringify(e)}`,`domain.${e}`,t),t}}const G={name:U("name"),version:U("version"),chainId:function(e){try{return m.O$.from(e).toString()}catch(t){}return R.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",e)},verifyingContract:function(e){try{return(0,f.Kn)(e).toLowerCase()}catch(t){}return R.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",e)},salt:function(e){try{const t=(0,p.lE)(e);if(32!==t.length)throw new Error("bad length");return(0,p.Dv)(t)}catch(t){}return R.throwArgumentError('invalid domain value "salt"',"domain.salt",e)}};function $(e){{const t=e.match(/^(u?)int(\d*)$/);if(t){const r=""===t[1],n=parseInt(t[2]||"256");(n%8!==0||n>256||t[2]&&t[2]!==String(n))&&R.throwArgumentError("invalid numeric width","type",e);const o=B.mask(r?n-1:n),i=r?o.add(C).mul(O):x;return function(t){const r=m.O$.from(t);return(r.lt(i)||r.gt(o))&&R.throwArgumentError(`value out-of-bounds for ${e}`,"value",t),(0,p.$m)(r.toTwos(256).toHexString(),32)}}}{const t=e.match(/^bytes(\d+)$/);if(t){const r=parseInt(t[1]);return(0===r||r>32||t[1]!==String(r))&&R.throwArgumentError("invalid bytes width","type",e),function(t){return(0,p.lE)(t).length!==r&&R.throwArgumentError(`invalid length for ${e}`,"value",t),function(e){const t=(0,p.lE)(e),r=t.length%32;return r?(0,p.xs)([t,A.slice(r)]):(0,p.Dv)(t)}(t)}}}switch(e){case"address":return function(e){return(0,p.$m)((0,f.Kn)(e),32)};case"bool":return function(e){return e?S:F};case"bytes":return function(e){return(0,_.w)(e)};case"string":return function(e){return(0,I.id)(e)}}return null}function j(e,t){return`${e}(${t.map((({name:e,type:t})=>t+" "+e)).join(",")})`}class M{constructor(e){(0,h.zG)(this,"types",Object.freeze((0,h.p$)(e))),(0,h.zG)(this,"_encoderCache",{}),(0,h.zG)(this,"_types",{});const t={},r={},n={};Object.keys(e).forEach((e=>{t[e]={},r[e]=[],n[e]={}}));for(const i in e){const n={};e[i].forEach((o=>{n[o.name]&&R.throwArgumentError(`duplicate variable name ${JSON.stringify(o.name)} in ${JSON.stringify(i)}`,"types",e),n[o.name]=!0;const s=o.type.match(/^([^\x5b]*)(\x5b|$)/)[1];s===i&&R.throwArgumentError(`circular type reference to ${JSON.stringify(s)}`,"types",e);$(s)||(r[s]||R.throwArgumentError(`unknown type ${JSON.stringify(s)}`,"types",e),r[s].push(i),t[i][s]=!0)}))}const o=Object.keys(r).filter((e=>0===r[e].length));0===o.length?R.throwArgumentError("missing primary type","types",e):o.length>1&&R.throwArgumentError(`ambiguous primary types or unused types: ${o.map((e=>JSON.stringify(e))).join(", ")}`,"types",e),(0,h.zG)(this,"primaryType",o[0]),function o(i,s){s[i]&&R.throwArgumentError(`circular type reference to ${JSON.stringify(i)}`,"types",e),s[i]=!0,Object.keys(t[i]).forEach((e=>{r[e]&&(o(e,s),Object.keys(s).forEach((t=>{n[t][e]=!0})))})),delete s[i]}(this.primaryType,{});for(const i in n){const t=Object.keys(n[i]);t.sort(),this._types[i]=j(i,e[i])+t.map((t=>j(t,e[t]))).join("")}}getEncoder(e){let t=this._encoderCache[e];return t||(t=this._encoderCache[e]=this._getEncoder(e)),t}_getEncoder(e){{const t=$(e);if(t)return t}const t=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(t){const e=t[1],r=this.getEncoder(e),n=parseInt(t[3]);return t=>{n>=0&&t.length!==n&&R.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t);let o=t.map(r);return this._types[e]&&(o=o.map(_.w)),(0,_.w)((0,p.xs)(o))}}const r=this.types[e];if(r){const t=(0,I.id)(this._types[e]);return e=>{const n=r.map((({name:t,type:r})=>{const n=this.getEncoder(r)(e[t]);return this._types[r]?(0,_.w)(n):n}));return n.unshift(t),(0,p.xs)(n)}}return R.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const t=this._types[e];return t||R.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return(0,_.w)(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,r){if($(e))return r(e,t);const n=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(n){const e=n[1],o=parseInt(n[3]);return o>=0&&t.length!==o&&R.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t),t.map((t=>this._visit(e,t,r)))}const o=this.types[e];return o?o.reduce(((e,{name:n,type:o})=>(e[n]=this._visit(o,t[n],r),e)),{}):R.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new M(e)}static getPrimaryType(e){return M.from(e).primaryType}static hashStruct(e,t,r){return M.from(t).hashStruct(e,r)}static hashDomain(e){const t=[];for(const r in e){const n=D[r];n||R.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),t.push({name:r,type:n})}return t.sort(((e,t)=>L.indexOf(e.name)-L.indexOf(t.name))),M.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,r){return(0,p.xs)(["0x1901",M.hashDomain(e),M.from(t).hash(r)])}static hash(e,t,r){return(0,_.w)(M.encode(e,t,r))}static resolveNames(e,t,r,n){return P(this,void 0,void 0,(function*(){e=(0,h.DC)(e);const o={};e.verifyingContract&&!(0,p.A7)(e.verifyingContract,20)&&(o[e.verifyingContract]="0x");const i=M.from(t);i.visit(r,((e,t)=>("address"!==e||(0,p.A7)(t,20)||(o[t]="0x"),t)));for(const e in o)o[e]=yield n(e);return e.verifyingContract&&o[e.verifyingContract]&&(e.verifyingContract=o[e.verifyingContract]),r=i.visit(r,((e,t)=>"address"===e&&o[t]?o[t]:t)),{domain:e,value:r}}))}static getPayload(e,t,r){M.hashDomain(e);const n={},o=[];L.forEach((t=>{const r=e[t];null!=r&&(n[t]=G[t](r),o.push({name:t,type:D[t]}))}));const i=M.from(t),s=(0,h.DC)(t);return s.EIP712Domain?R.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",t):s.EIP712Domain=o,i.encode(r),{types:s,domain:n,primaryType:i.primaryType,message:i.visit(r,((e,t)=>{if(e.match(/^bytes(\d*)/))return(0,p.Dv)((0,p.lE)(t));if(e.match(/^u?int/))return m.O$.from(t).toString();switch(e){case"address":return t.toLowerCase();case"bool":return!!t;case"string":return"string"!==typeof t&&R.throwArgumentError("invalid string","value",t),t}return R.throwArgumentError("unsupported type","type",e)}))}}}var q=r(9251);function Y(e){e=atob(e);const t=[];for(let r=0;r<e.length;r++)t.push(e.charCodeAt(r));return(0,p.lE)(t)}function z(e){e=(0,p.lE)(e);let t="";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return btoa(t)}var K=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{l(n.next(e))}catch(t){i(t)}}function a(e){try{l(n.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};function H(e,t){return K(this,void 0,void 0,(function*(){null==t&&(t={});const r={method:t.method||"GET",headers:t.headers||{},body:t.body||void 0};!0!==t.skipFetchSetup&&(r.mode="cors",r.cache="no-cache",r.credentials="same-origin",r.redirect="follow",r.referrer="client");const n=yield fetch(e,r),o=yield n.arrayBuffer(),i={};return n.headers.forEach?n.headers.forEach(((e,t)=>{i[t.toLowerCase()]=e})):n.headers.keys().forEach((e=>{i[e.toLowerCase()]=n.headers.get(e)})),{headers:i,statusCode:n.status,statusMessage:n.statusText,body:(0,p.lE)(new Uint8Array(o))}}))}var W=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{l(n.next(e))}catch(t){i(t)}}function a(e){try{l(n.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};const V=new n.Yd("web/5.6.1");function J(e){return new Promise((t=>{setTimeout(t,e)}))}function X(e,t){if(null==e)return null;if("string"===typeof e)return e;if((0,p.Zq)(e)){if(t&&("text"===t.split("/")[0]||"application/json"===t.split(";")[0].trim()))try{return(0,q.ZN)(e)}catch(r){}return(0,p.Dv)(e)}return e}function Z(e,t,r){let o=null;if(null!=t){o=(0,q.Y0)(t);const r="string"===typeof e?{url:e}:(0,h.DC)(e);if(r.headers){0!==Object.keys(r.headers).filter((e=>"content-type"===e.toLowerCase())).length||(r.headers=(0,h.DC)(r.headers),r.headers["content-type"]="application/json")}else r.headers={"content-type":"application/json"};e=r}return function(e,t,r){const o="object"===typeof e&&null!=e.throttleLimit?e.throttleLimit:12;V.assertArgument(o>0&&o%1===0,"invalid connection throttle limit","connection.throttleLimit",o);const i="object"===typeof e?e.throttleCallback:null,s="object"===typeof e&&"number"===typeof e.throttleSlotInterval?e.throttleSlotInterval:100;V.assertArgument(s>0&&s%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",s);const a="object"===typeof e&&!!e.errorPassThrough,l={};let c=null;const u={method:"GET"};let d=!1,h=12e4;if("string"===typeof e)c=e;else if("object"===typeof e){if(null!=e&&null!=e.url||V.throwArgumentError("missing URL","connection.url",e),c=e.url,"number"===typeof e.timeout&&e.timeout>0&&(h=e.timeout),e.headers)for(const t in e.headers)l[t.toLowerCase()]={key:t,value:String(e.headers[t])},["if-none-match","if-modified-since"].indexOf(t.toLowerCase())>=0&&(d=!0);if(u.allowGzip=!!e.allowGzip,null!=e.user&&null!=e.password){"https:"!==c.substring(0,6)&&!0!==e.allowInsecureAuthentication&&V.throwError("basic authentication requires a secure https url",n.Yd.errors.INVALID_ARGUMENT,{argument:"url",url:c,user:e.user,password:"[REDACTED]"});const t=e.user+":"+e.password;l.authorization={key:"Authorization",value:"Basic "+z((0,q.Y0)(t))}}null!=e.skipFetchSetup&&(u.skipFetchSetup=!!e.skipFetchSetup)}const f=new RegExp("^data:([a-z0-9-]+/[a-z0-9-]+);base64,(.*)$","i"),m=c?c.match(f):null;if(m)try{const e={statusCode:200,statusMessage:"OK",headers:{"content-type":m[1]},body:Y(m[2])};let t=e.body;return r&&(t=r(e.body,e)),Promise.resolve(t)}catch(b){V.throwError("processing response error",n.Yd.errors.SERVER_ERROR,{body:X(m[1],m[2]),error:b,requestBody:null,requestMethod:"GET",url:c})}t&&(u.method="POST",u.body=t,null==l["content-type"]&&(l["content-type"]={key:"Content-Type",value:"application/octet-stream"}),null==l["content-length"]&&(l["content-length"]={key:"Content-Length",value:String(t.length)}));const p={};Object.keys(l).forEach((e=>{const t=l[e];p[t.key]=t.value})),u.headers=p;const g=function(){let e=null;return{promise:new Promise((function(t,r){h&&(e=setTimeout((()=>{null!=e&&(e=null,r(V.makeError("timeout",n.Yd.errors.TIMEOUT,{requestBody:X(u.body,p["content-type"]),requestMethod:u.method,timeout:h,url:c})))}),h))})),cancel:function(){null!=e&&(clearTimeout(e),e=null)}}}(),v=function(){return W(this,void 0,void 0,(function*(){for(let e=0;e<o;e++){let t=null;try{if(t=yield H(c,u),e<o)if(301===t.statusCode||302===t.statusCode){const e=t.headers.location||"";if("GET"===u.method&&e.match(/^https:/)){c=t.headers.location;continue}}else if(429===t.statusCode){let r=!0;if(i&&(r=yield i(e,c)),r){let r=0;const n=t.headers["retry-after"];r="string"===typeof n&&n.match(/^[1-9][0-9]*$/)?1e3*parseInt(n):s*parseInt(String(Math.random()*Math.pow(2,e))),yield J(r);continue}}}catch(b){t=b.response,null==t&&(g.cancel(),V.throwError("missing response",n.Yd.errors.SERVER_ERROR,{requestBody:X(u.body,p["content-type"]),requestMethod:u.method,serverError:b,url:c}))}let l=t.body;if(d&&304===t.statusCode?l=null:!a&&(t.statusCode<200||t.statusCode>=300)&&(g.cancel(),V.throwError("bad response",n.Yd.errors.SERVER_ERROR,{status:t.statusCode,headers:t.headers,body:X(l,t.headers?t.headers["content-type"]:null),requestBody:X(u.body,p["content-type"]),requestMethod:u.method,url:c})),r)try{const e=yield r(l,t);return g.cancel(),e}catch(b){if(b.throttleRetry&&e<o){let t=!0;if(i&&(t=yield i(e,c)),t){const t=s*parseInt(String(Math.random()*Math.pow(2,e)));yield J(t);continue}}g.cancel(),V.throwError("processing response error",n.Yd.errors.SERVER_ERROR,{body:X(l,t.headers?t.headers["content-type"]:null),error:b,requestBody:X(u.body,p["content-type"]),requestMethod:u.method,url:c})}return g.cancel(),l}return V.throwError("failed response",n.Yd.errors.SERVER_ERROR,{requestBody:X(u.body,p["content-type"]),requestMethod:u.method,url:c})}))}();return Promise.race([g.promise,v])}(e,o,((e,t)=>{let o=null;if(null!=e)try{o=JSON.parse((0,q.ZN)(e))}catch(i){V.throwError("invalid JSON",n.Yd.errors.SERVER_ERROR,{body:e,error:i})}return r&&(o=r(o,t)),o}))}function Q(e,t){return t||(t={}),null==(t=(0,h.DC)(t)).floor&&(t.floor=0),null==t.ceiling&&(t.ceiling=1e4),null==t.interval&&(t.interval=250),new Promise((function(r,n){let o=null,i=!1;const s=()=>!i&&(i=!0,o&&clearTimeout(o),!0);t.timeout&&(o=setTimeout((()=>{s()&&n(new Error("timeout"))}),t.timeout));const a=t.retryLimit;let l=0;!function o(){return e().then((function(e){if(void 0!==e)s()&&r(e);else if(t.oncePoll)t.oncePoll.once("poll",o);else if(t.onceBlock)t.onceBlock.once("block",o);else if(!i){if(l++,l>a)return void(s()&&n(new Error("retry limit reached")));let e=t.interval*parseInt(String(Math.random()*Math.pow(2,l)));e<t.floor&&(e=t.floor),e>t.ceiling&&(e=t.ceiling),setTimeout(o,e)}return null}),(function(e){s()&&n(e)}))}()}))}var ee=r(1556);class te{constructor(e){(0,h.zG)(this,"alphabet",e),(0,h.zG)(this,"base",e.length),(0,h.zG)(this,"_alphabetMap",{}),(0,h.zG)(this,"_leader",e.charAt(0));for(let t=0;t<e.length;t++)this._alphabetMap[e.charAt(t)]=t}encode(e){let t=(0,p.lE)(e);if(0===t.length)return"";let r=[0];for(let o=0;o<t.length;++o){let e=t[o];for(let t=0;t<r.length;++t)e+=r[t]<<8,r[t]=e%this.base,e=e/this.base|0;for(;e>0;)r.push(e%this.base),e=e/this.base|0}let n="";for(let o=0;0===t[o]&&o<t.length-1;++o)n+=this._leader;for(let o=r.length-1;o>=0;--o)n+=this.alphabet[r[o]];return n}decode(e){if("string"!==typeof e)throw new TypeError("Expected String");let t=[];if(0===e.length)return new Uint8Array(t);t.push(0);for(let r=0;r<e.length;r++){let n=this._alphabetMap[e[r]];if(void 0===n)throw new Error("Non-base"+this.base+" character");let o=n;for(let e=0;e<t.length;++e)o+=t[e]*this.base,t[e]=255&o,o>>=8;for(;o>0;)t.push(255&o),o>>=8}for(let r=0;e[r]===this._leader&&r<e.length-1;++r)t.push(0);return(0,p.lE)(new Uint8Array(t.reverse()))}}new te("abcdefghijklmnopqrstuvwxyz234567");const re=new te("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");function ne(e,t){t||(t=function(e){return[parseInt(e,16)]});let r=0,n={};return e.split(",").forEach((e=>{let o=e.split(":");r+=parseInt(o[0],16),n[r]=t(o[1])})),n}function oe(e){let t=0;return e.split(",").map((e=>{let r=e.split("-");1===r.length?r[1]="0":""===r[1]&&(r[1]="1");let n=t+parseInt(r[0],16);return t=parseInt(r[1],16),{l:n,h:t}}))}function ie(e,t){let r=0;for(let n=0;n<t.length;n++){let o=t[n];if(r+=o.l,e>=r&&e<=r+o.h&&(e-r)%(o.d||1)===0){if(o.e&&-1!==o.e.indexOf(e-r))continue;return o}}return null}const se=oe("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),ae="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map((e=>parseInt(e,16))),le=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],ce=ne("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),ue=ne("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),de=ne("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",(function(e){if(e.length%4!==0)throw new Error("bad data");let t=[];for(let r=0;r<e.length;r+=4)t.push(parseInt(e.substring(r,r+4),16));return t})),he=oe("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function fe(e){if(e.match(/^[a-z0-9-]*$/i)&&e.length<=59)return e.toLowerCase();let t=(0,q.XL)(e);var r;r=t.map((e=>{if(ae.indexOf(e)>=0)return[];if(e>=65024&&e<=65039)return[];let t=function(e){let t=ie(e,le);if(t)return[e+t.s];let r=ce[e];if(r)return r;let n=ue[e];return n?[e+n[0]]:de[e]||null}(e);return t||[e]})),t=r.reduce(((e,t)=>(t.forEach((t=>{e.push(t)})),e)),[]),t=(0,q.XL)((0,q.uu)(t),q.Uj.NFKC),t.forEach((e=>{if(ie(e,he))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")})),t.forEach((e=>{if(ie(e,se))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")}));let n=(0,q.uu)(t);if("-"===n.substring(0,1)||"--"===n.substring(2,4)||"-"===n.substring(n.length-1))throw new Error("invalid hyphen");if(n.length>63)throw new Error("too long");return n}const me=new n.Yd(T),pe=new Uint8Array(32);pe.fill(0);const ge=new RegExp("^((.*)\\.)?([^.]+)$");function ve(e){"string"!==typeof e&&me.throwArgumentError("invalid ENS name; not a string","name",e);let t=e,r=pe;for(;t.length;){const n=t.match(ge);null!=n&&""!==n[2]||me.throwArgumentError("invalid ENS address; missing component","name",e);const o=(0,q.Y0)(fe(n[3]));r=(0,_.w)((0,p.zo)([r,(0,_.w)(o)])),t=n[2]||""}return(0,p.Dv)(r)}var be=r(3715),ye=r.n(be);new n.Yd("sha2/5.6.1");function we(e){return"0x"+ye().sha256().update((0,p.lE)(e)).digest("hex")}var ke=r(2882),Ee=r.n(ke),Ne=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{l(n.next(e))}catch(t){i(t)}}function a(e){try{l(n.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};const _e=new n.Yd(v);function Te(e){return null==e?"null":(32!==(0,p.E1)(e)&&_e.throwArgumentError("invalid topic","topic",e),e.toLowerCase())}function Ie(e){for(e=e.slice();e.length>0&&null==e[e.length-1];)e.pop();return e.map((e=>{if(Array.isArray(e)){const t={};e.forEach((e=>{t[Te(e)]=!0}));const r=Object.keys(t);return r.sort(),r.join("|")}return Te(e)})).join("&")}function Pe(e){if("string"===typeof e){if(e=e.toLowerCase(),32===(0,p.E1)(e))return"tx:"+e;if(-1===e.indexOf(":"))return e}else{if(Array.isArray(e))return"filter:*:"+Ie(e);if(ee.Sg.isForkEvent(e))throw _e.warn("not implemented"),new Error("not implemented");if(e&&"object"===typeof e)return"filter:"+(e.address||"*")+":"+Ie(e.topics||[])}throw new Error("invalid event - "+e)}function Re(){return(new Date).getTime()}function Ae(e){return new Promise((t=>{setTimeout(t,e)}))}const Oe=["block","network","pending","poll"];class xe{constructor(e,t,r){(0,h.zG)(this,"tag",e),(0,h.zG)(this,"listener",t),(0,h.zG)(this,"once",r)}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return"tx"!==e[0]?null:e[1]}get filter(){const e=this.tag.split(":");if("filter"!==e[0])return null;const t=e[1],r=""===(n=e[2])?[]:n.split(/&/g).map((e=>{if(""===e)return[];const t=e.split("|").map((e=>"null"===e?null:e));return 1===t.length?t[0]:t}));var n;const o={};return r.length>0&&(o.topics=r),t&&"*"!==t&&(o.address=t),o}pollable(){return this.tag.indexOf(":")>=0||Oe.indexOf(this.tag)>=0}}const Ce={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function Be(e){return(0,p.$m)(m.O$.from(e).toHexString(),32)}function Se(e){return re.encode((0,p.zo)([e,(0,p.p3)(we(we(e)),0,4)]))}const Fe=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),new RegExp("^(ipfs)://(.*)$","i"),new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function De(e){try{return(0,q.ZN)(Le(e))}catch(t){}return null}function Le(e){if("0x"===e)return null;const t=m.O$.from((0,p.p3)(e,0,32)).toNumber(),r=m.O$.from((0,p.p3)(e,t,t+32)).toNumber();return(0,p.p3)(e,t+32,t+32+r)}class Ue{constructor(e,t,r,n){(0,h.zG)(this,"provider",e),(0,h.zG)(this,"name",r),(0,h.zG)(this,"address",e.formatter.address(t)),(0,h.zG)(this,"_resolvedAddress",n)}_fetchBytes(e,t){return Ne(this,void 0,void 0,(function*(){const r={to:this.address,data:(0,p.xs)([e,ve(this.name),t||"0x"])};try{return Le(yield this.provider.call(r))}catch(o){return o.code,n.Yd.errors.CALL_EXCEPTION,null}}))}_getAddress(e,t){const r=Ce[String(e)];if(null==r&&_e.throwError(`unsupported coin type: ${e}`,n.Yd.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),"eth"===r.ilk)return this.provider.formatter.address(t);const o=(0,p.lE)(t);if(null!=r.p2pkh){const e=t.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(e){const t=parseInt(e[1],16);if(e[2].length===2*t&&t>=1&&t<=75)return Se((0,p.zo)([[r.p2pkh],"0x"+e[2]]))}}if(null!=r.p2sh){const e=t.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(e){const t=parseInt(e[1],16);if(e[2].length===2*t&&t>=1&&t<=75)return Se((0,p.zo)([[r.p2sh],"0x"+e[2]]))}}if(null!=r.prefix){const e=o[1];let t=o[0];if(0===t?20!==e&&32!==e&&(t=-1):t=-1,t>=0&&o.length===2+e&&e>=1&&e<=75){const e=Ee().toWords(o.slice(2));return e.unshift(t),Ee().encode(r.prefix,e)}}return null}getAddress(e){return Ne(this,void 0,void 0,(function*(){if(null==e&&(e=60),60===e)try{const e={to:this.address,data:"0x3b3b57de"+ve(this.name).substring(2)},t=yield this.provider.call(e);return"0x"===t||"0x0000000000000000000000000000000000000000000000000000000000000000"===t?null:this.provider.formatter.callAddress(t)}catch(o){if(o.code===n.Yd.errors.CALL_EXCEPTION)return null;throw o}const t=yield this._fetchBytes("0xf1cb7e06",Be(e));if(null==t||"0x"===t)return null;const r=this._getAddress(e,t);return null==r&&_e.throwError("invalid or unsupported coin data",n.Yd.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:t}),r}))}getAvatar(){return Ne(this,void 0,void 0,(function*(){const e=[];try{const t=yield this.getText("avatar");if(null==t)return null;for(let r=0;r<Fe.length;r++){const n=t.match(Fe[r]);if(null!=n)switch(n[1]){case"https":return e.push({type:"url",content:t}),{linkage:e,url:t};case"data":return e.push({type:"data",content:t}),{linkage:e,url:t};case"ipfs":return e.push({type:"ipfs",content:t}),{linkage:e,url:`https://gateway.ipfs.io/ipfs/${t.substring(7)}`};case"erc721":case"erc1155":{const r="erc721"===n[1]?"0xc87b56dd":"0x0e89341c";e.push({type:n[1],content:t});const o=this._resolvedAddress||(yield this.getAddress()),i=(n[2]||"").split("/");if(2!==i.length)return null;const s=yield this.provider.formatter.address(i[0]),a=(0,p.$m)(m.O$.from(i[1]).toHexString(),32);if("erc721"===n[1]){const t=this.provider.formatter.callAddress(yield this.provider.call({to:s,data:(0,p.xs)(["0x6352211e",a])}));if(o!==t)return null;e.push({type:"owner",content:t})}else if("erc1155"===n[1]){const t=m.O$.from(yield this.provider.call({to:s,data:(0,p.xs)(["0x00fdd58e",(0,p.$m)(o,32),a])}));if(t.isZero())return null;e.push({type:"balance",content:t.toString()})}const l={to:this.provider.formatter.address(i[0]),data:(0,p.xs)([r,a])};let c=De(yield this.provider.call(l));if(null==c)return null;e.push({type:"metadata-url",content:c}),"erc1155"===n[1]&&(c=c.replace("{id}",a.substring(2)));const u=yield Z(c);return u&&"string"===typeof u.image&&u.image.match(/^(https:\/\/|data:)/i)?(e.push({type:"metadata",content:JSON.stringify(u)}),e.push({type:"url",content:u.image}),{linkage:e,url:u.image}):null}}}}catch(t){}return null}))}getContentHash(){return Ne(this,void 0,void 0,(function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(null==e||"0x"===e)return null;const t=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){const e=parseInt(t[3],16);if(t[4].length===2*e)return"ipfs://"+re.encode("0x"+t[1])}const r=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);return r&&64===r[1].length?"bzz://"+r[1]:_e.throwError("invalid or unsupported content hash data",n.Yd.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})}))}getText(e){return Ne(this,void 0,void 0,(function*(){let t=(0,q.Y0)(e);t=(0,p.zo)([Be(64),Be(t.length),t]),t.length%32!==0&&(t=(0,p.zo)([t,(0,p.$m)("0x",32-e.length%32)]));const r=yield this._fetchBytes("0x59d1d43c",(0,p.Dv)(t));return null==r||"0x"===r?null:(0,q.ZN)(r)}))}}let Ge=null,$e=1;class je extends ee.zt{constructor(e){if(_e.checkNew(new.target,ee.zt),super(),this._events=[],this._emitted={block:-2},this.formatter=new.target.getFormatter(),(0,h.zG)(this,"anyNetwork","any"===e),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch((e=>{})),this._ready().catch((e=>{}));else{const t=(0,h.tu)(new.target,"getNetwork")(e);t?((0,h.zG)(this,"_network",t),this.emit("network",t,null)):_e.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return Ne(this,void 0,void 0,(function*(){if(null==this._network){let t=null;if(this._networkPromise)try{t=yield this._networkPromise}catch(e){}null==t&&(t=yield this.detectNetwork()),t||_e.throwError("no network detected",n.Yd.errors.UNKNOWN_ERROR,{}),null==this._network&&(this.anyNetwork?this._network=t:(0,h.zG)(this,"_network",t),this.emit("network",t,null))}return this._network}))}get ready(){return Q((()=>this._ready().then((e=>e),(e=>{if(e.code!==n.Yd.errors.NETWORK_ERROR||"noNetwork"!==e.event)throw e}))))}static getFormatter(){return null==Ge&&(Ge=new y),Ge}static getNetwork(e){return d(null==e?"homestead":e)}_getInternalBlockNumber(e){return Ne(this,void 0,void 0,(function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const t=this._internalBlockNumber;try{const r=yield t;if(Re()-r.respTime<=e)return r.blockNumber;break}catch(n){if(this._internalBlockNumber===t)break}}const t=Re(),r=(0,h.mE)({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then((e=>null),(e=>e))}).then((({blockNumber:e,networkError:n})=>{if(n)throw this._internalBlockNumber===r&&(this._internalBlockNumber=null),n;const o=Re();return(e=m.O$.from(e).toNumber())<this._maxInternalBlockNumber&&(e=this._maxInternalBlockNumber),this._maxInternalBlockNumber=e,this._setFastBlockNumber(e),{blockNumber:e,reqTime:t,respTime:o}}));return this._internalBlockNumber=r,r.catch((e=>{this._internalBlockNumber===r&&(this._internalBlockNumber=null)})),(yield r).blockNumber}))}poll(){return Ne(this,void 0,void 0,(function*(){const e=$e++,t=[];let r=null;try{r=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(o){return void this.emit("error",o)}if(this._setFastBlockNumber(r),this.emit("poll",e,r),r!==this._lastBlockNumber){if(-2===this._emitted.block&&(this._emitted.block=r-1),Math.abs(this._emitted.block-r)>1e3)_e.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${r})`),this.emit("error",_e.makeError("network block skew detected",n.Yd.errors.NETWORK_ERROR,{blockNumber:r,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",r);else for(let e=this._emitted.block+1;e<=r;e++)this.emit("block",e);this._emitted.block!==r&&(this._emitted.block=r,Object.keys(this._emitted).forEach((e=>{if("block"===e)return;const t=this._emitted[e];"pending"!==t&&r-t>12&&delete this._emitted[e]}))),-2===this._lastBlockNumber&&(this._lastBlockNumber=r-1),this._events.forEach((e=>{switch(e.type){case"tx":{const r=e.hash;let n=this.getTransactionReceipt(r).then((e=>e&&null!=e.blockNumber?(this._emitted["t:"+r]=e.blockNumber,this.emit(r,e),null):null)).catch((e=>{this.emit("error",e)}));t.push(n);break}case"filter":{const n=e.filter;n.fromBlock=this._lastBlockNumber+1,n.toBlock=r;const o=this.getLogs(n).then((e=>{0!==e.length&&e.forEach((e=>{this._emitted["b:"+e.blockHash]=e.blockNumber,this._emitted["t:"+e.transactionHash]=e.blockNumber,this.emit(n,e)}))})).catch((e=>{this.emit("error",e)}));t.push(o);break}}})),this._lastBlockNumber=r,Promise.all(t).then((()=>{this.emit("didPoll",e)})).catch((e=>{this.emit("error",e)}))}else this.emit("didPoll",e)}))}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return Ne(this,void 0,void 0,(function*(){return _e.throwError("provider does not support network detection",n.Yd.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})}))}getNetwork(){return Ne(this,void 0,void 0,(function*(){const e=yield this._ready(),t=yield this.detectNetwork();if(e.chainId!==t.chainId){if(this.anyNetwork)return this._network=t,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",t,e),yield Ae(0),this._network;const r=_e.makeError("underlying network changed",n.Yd.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:t});throw this.emit("error",r),r}return e}))}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then((e=>{this._setFastBlockNumber(e)}),(e=>{})),null!=this._fastBlockNumber?this._fastBlockNumber:-1}get polling(){return null!=this._poller}set polling(e){e&&!this._poller?(this._poller=setInterval((()=>{this.poll()}),this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout((()=>{this.poll(),this._bootstrapPoll=setTimeout((()=>{this._poller||this.poll(),this._bootstrapPoll=null}),this.pollingInterval)}),0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if("number"!==typeof e||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval((()=>{this.poll()}),this._pollingInterval))}_getFastBlockNumber(){const e=Re();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then((e=>((null==this._fastBlockNumber||e>this._fastBlockNumber)&&(this._fastBlockNumber=e),this._fastBlockNumber)))),this._fastBlockNumberPromise}_setFastBlockNumber(e){null!=this._fastBlockNumber&&e<this._fastBlockNumber||(this._fastQueryDate=Re(),(null==this._fastBlockNumber||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,t,r){return Ne(this,void 0,void 0,(function*(){return this._waitForTransaction(e,null==t?1:t,r||0,null)}))}_waitForTransaction(e,t,r,o){return Ne(this,void 0,void 0,(function*(){const i=yield this.getTransactionReceipt(e);return(i?i.confirmations:0)>=t?i:new Promise(((i,s)=>{const a=[];let l=!1;const c=function(){return!!l||(l=!0,a.forEach((e=>{e()})),!1)},u=e=>{e.confirmations<t||c()||i(e)};if(this.on(e,u),a.push((()=>{this.removeListener(e,u)})),o){let r=o.startBlock,i=null;const u=a=>Ne(this,void 0,void 0,(function*(){l||(yield Ae(1e3),this.getTransactionCount(o.from).then((d=>Ne(this,void 0,void 0,(function*(){if(!l){if(d<=o.nonce)r=a;else{{const t=yield this.getTransaction(e);if(t&&null!=t.blockNumber)return}for(null==i&&(i=r-3,i<o.startBlock&&(i=o.startBlock));i<=a;){if(l)return;const r=yield this.getBlockWithTransactions(i);for(let i=0;i<r.transactions.length;i++){const a=r.transactions[i];if(a.hash===e)return;if(a.from===o.from&&a.nonce===o.nonce){if(l)return;const r=yield this.waitForTransaction(a.hash,t);if(c())return;let i="replaced";return a.data===o.data&&a.to===o.to&&a.value.eq(o.value)?i="repriced":"0x"===a.data&&a.from===a.to&&a.value.isZero()&&(i="cancelled"),void s(_e.makeError("transaction was replaced",n.Yd.errors.TRANSACTION_REPLACED,{cancelled:"replaced"===i||"cancelled"===i,reason:i,replacement:this._wrapTransaction(a),hash:e,receipt:r}))}}i++}}l||this.once("block",u)}}))),(e=>{l||this.once("block",u)})))}));if(l)return;this.once("block",u),a.push((()=>{this.removeListener("block",u)}))}if("number"===typeof r&&r>0){const e=setTimeout((()=>{c()||s(_e.makeError("timeout exceeded",n.Yd.errors.TIMEOUT,{timeout:r}))}),r);e.unref&&e.unref(),a.push((()=>{clearTimeout(e)}))}}))}))}getBlockNumber(){return Ne(this,void 0,void 0,(function*(){return this._getInternalBlockNumber(0)}))}getGasPrice(){return Ne(this,void 0,void 0,(function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return m.O$.from(e)}catch(t){return _e.throwError("bad result from backend",n.Yd.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:t})}}))}getBalance(e,t){return Ne(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield(0,h.mE)({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),o=yield this.perform("getBalance",r);try{return m.O$.from(o)}catch(i){return _e.throwError("bad result from backend",n.Yd.errors.SERVER_ERROR,{method:"getBalance",params:r,result:o,error:i})}}))}getTransactionCount(e,t){return Ne(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield(0,h.mE)({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),o=yield this.perform("getTransactionCount",r);try{return m.O$.from(o).toNumber()}catch(i){return _e.throwError("bad result from backend",n.Yd.errors.SERVER_ERROR,{method:"getTransactionCount",params:r,result:o,error:i})}}))}getCode(e,t){return Ne(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield(0,h.mE)({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),o=yield this.perform("getCode",r);try{return(0,p.Dv)(o)}catch(i){return _e.throwError("bad result from backend",n.Yd.errors.SERVER_ERROR,{method:"getCode",params:r,result:o,error:i})}}))}getStorageAt(e,t,r){return Ne(this,void 0,void 0,(function*(){yield this.getNetwork();const o=yield(0,h.mE)({address:this._getAddress(e),blockTag:this._getBlockTag(r),position:Promise.resolve(t).then((e=>(0,p.$P)(e)))}),i=yield this.perform("getStorageAt",o);try{return(0,p.Dv)(i)}catch(s){return _e.throwError("bad result from backend",n.Yd.errors.SERVER_ERROR,{method:"getStorageAt",params:o,result:i,error:s})}}))}_wrapTransaction(e,t,r){if(null!=t&&32!==(0,p.E1)(t))throw new Error("invalid response - sendTransaction");const o=e;return null!=t&&e.hash!==t&&_e.throwError("Transaction hash mismatch from Provider.sendTransaction.",n.Yd.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:t}),o.wait=(t,o)=>Ne(this,void 0,void 0,(function*(){let i;null==t&&(t=1),null==o&&(o=0),0!==t&&null!=r&&(i={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:r});const s=yield this._waitForTransaction(e.hash,t,o,i);return null==s&&0===t?null:(this._emitted["t:"+e.hash]=s.blockNumber,0===s.status&&_e.throwError("transaction failed",n.Yd.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:s}),s)})),o}sendTransaction(e){return Ne(this,void 0,void 0,(function*(){yield this.getNetwork();const t=yield Promise.resolve(e).then((e=>(0,p.Dv)(e))),r=this.formatter.transaction(e);null==r.confirmations&&(r.confirmations=0);const n=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const e=yield this.perform("sendTransaction",{signedTransaction:t});return this._wrapTransaction(r,e,n)}catch(o){throw o.transaction=r,o.transactionHash=r.hash,o}}))}_getTransactionRequest(e){return Ne(this,void 0,void 0,(function*(){const t=yield e,r={};return["from","to"].forEach((e=>{null!=t[e]&&(r[e]=Promise.resolve(t[e]).then((e=>e?this._getAddress(e):null)))})),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach((e=>{null!=t[e]&&(r[e]=Promise.resolve(t[e]).then((e=>e?m.O$.from(e):null)))})),["type"].forEach((e=>{null!=t[e]&&(r[e]=Promise.resolve(t[e]).then((e=>null!=e?e:null)))})),t.accessList&&(r.accessList=this.formatter.accessList(t.accessList)),["data"].forEach((e=>{null!=t[e]&&(r[e]=Promise.resolve(t[e]).then((e=>e?(0,p.Dv)(e):null)))})),this.formatter.transactionRequest(yield(0,h.mE)(r))}))}_getFilter(e){return Ne(this,void 0,void 0,(function*(){e=yield e;const t={};return null!=e.address&&(t.address=this._getAddress(e.address)),["blockHash","topics"].forEach((r=>{null!=e[r]&&(t[r]=e[r])})),["fromBlock","toBlock"].forEach((r=>{null!=e[r]&&(t[r]=this._getBlockTag(e[r]))})),this.formatter.filter(yield(0,h.mE)(t))}))}call(e,t){return Ne(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield(0,h.mE)({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(t)}),o=yield this.perform("call",r);try{return(0,p.Dv)(o)}catch(i){return _e.throwError("bad result from backend",n.Yd.errors.SERVER_ERROR,{method:"call",params:r,result:o,error:i})}}))}estimateGas(e){return Ne(this,void 0,void 0,(function*(){yield this.getNetwork();const t=yield(0,h.mE)({transaction:this._getTransactionRequest(e)}),r=yield this.perform("estimateGas",t);try{return m.O$.from(r)}catch(o){return _e.throwError("bad result from backend",n.Yd.errors.SERVER_ERROR,{method:"estimateGas",params:t,result:r,error:o})}}))}_getAddress(e){return Ne(this,void 0,void 0,(function*(){"string"!==typeof(e=yield e)&&_e.throwArgumentError("invalid address or ENS name","name",e);const t=yield this.resolveName(e);return null==t&&_e.throwError("ENS name not configured",n.Yd.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),t}))}_getBlock(e,t){return Ne(this,void 0,void 0,(function*(){yield this.getNetwork(),e=yield e;let r=-128;const n={includeTransactions:!!t};if((0,p.A7)(e,32))n.blockHash=e;else try{n.blockTag=yield this._getBlockTag(e),(0,p.A7)(n.blockTag)&&(r=parseInt(n.blockTag.substring(2),16))}catch(o){_e.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return Q((()=>Ne(this,void 0,void 0,(function*(){const e=yield this.perform("getBlock",n);if(null==e)return null!=n.blockHash&&null==this._emitted["b:"+n.blockHash]||null!=n.blockTag&&r>this._emitted.block?null:void 0;if(t){let t=null;for(let n=0;n<e.transactions.length;n++){const r=e.transactions[n];if(null==r.blockNumber)r.confirmations=0;else if(null==r.confirmations){null==t&&(t=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let e=t-r.blockNumber+1;e<=0&&(e=1),r.confirmations=e}}const r=this.formatter.blockWithTransactions(e);return r.transactions=r.transactions.map((e=>this._wrapTransaction(e))),r}return this.formatter.block(e)}))),{oncePoll:this})}))}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return Ne(this,void 0,void 0,(function*(){yield this.getNetwork(),e=yield e;const t={transactionHash:this.formatter.hash(e,!0)};return Q((()=>Ne(this,void 0,void 0,(function*(){const r=yield this.perform("getTransaction",t);if(null==r)return null==this._emitted["t:"+e]?null:void 0;const n=this.formatter.transactionResponse(r);if(null==n.blockNumber)n.confirmations=0;else if(null==n.confirmations){let e=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-n.blockNumber+1;e<=0&&(e=1),n.confirmations=e}return this._wrapTransaction(n)}))),{oncePoll:this})}))}getTransactionReceipt(e){return Ne(this,void 0,void 0,(function*(){yield this.getNetwork(),e=yield e;const t={transactionHash:this.formatter.hash(e,!0)};return Q((()=>Ne(this,void 0,void 0,(function*(){const r=yield this.perform("getTransactionReceipt",t);if(null==r)return null==this._emitted["t:"+e]?null:void 0;if(null==r.blockHash)return;const n=this.formatter.receipt(r);if(null==n.blockNumber)n.confirmations=0;else if(null==n.confirmations){let e=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-n.blockNumber+1;e<=0&&(e=1),n.confirmations=e}return n}))),{oncePoll:this})}))}getLogs(e){return Ne(this,void 0,void 0,(function*(){yield this.getNetwork();const t=yield(0,h.mE)({filter:this._getFilter(e)}),r=yield this.perform("getLogs",t);return r.forEach((e=>{null==e.removed&&(e.removed=!1)})),y.arrayOf(this.formatter.filterLog.bind(this.formatter))(r)}))}getEtherPrice(){return Ne(this,void 0,void 0,(function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})}))}_getBlockTag(e){return Ne(this,void 0,void 0,(function*(){if("number"===typeof(e=yield e)&&e<0){e%1&&_e.throwArgumentError("invalid BlockTag","blockTag",e);let t=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return t+=e,t<0&&(t=0),this.formatter.blockTag(t)}return this.formatter.blockTag(e)}))}getResolver(e){return Ne(this,void 0,void 0,(function*(){try{const t=yield this._getResolver(e);return null==t?null:new Ue(this,t,e)}catch(t){return t.code,n.Yd.errors.CALL_EXCEPTION,null}}))}_getResolver(e){return Ne(this,void 0,void 0,(function*(){const t=yield this.getNetwork();t.ensAddress||_e.throwError("network does not support ENS",n.Yd.errors.UNSUPPORTED_OPERATION,{operation:"ENS",network:t.name});const r={to:t.ensAddress,data:"0x0178b8bf"+ve(e).substring(2)};try{return this.formatter.callAddress(yield this.call(r))}catch(o){if(o.code===n.Yd.errors.CALL_EXCEPTION)return null;throw o}}))}resolveName(e){return Ne(this,void 0,void 0,(function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(r){if((0,p.A7)(e))throw r}"string"!==typeof e&&_e.throwArgumentError("invalid ENS name","name",e);const t=yield this.getResolver(e);return t?yield t.getAddress():null}))}lookupAddress(e){return Ne(this,void 0,void 0,(function*(){e=yield e;const t=(e=this.formatter.address(e)).substring(2).toLowerCase()+".addr.reverse",r=yield this._getResolver(t);if(!r)return null;let n=(0,p.lE)(yield this.call({to:r,data:"0x691f3431"+ve(t).substring(2)}));if(n.length<32||!m.O$.from(n.slice(0,32)).eq(32))return null;if(n=n.slice(32),n.length<32)return null;const o=m.O$.from(n.slice(0,32)).toNumber();if(n=n.slice(32),o>n.length)return null;const i=(0,q.ZN)(n.slice(0,o));return(yield this.resolveName(i))!=e?null:i}))}getAvatar(e){return Ne(this,void 0,void 0,(function*(){let t=null;if((0,p.A7)(e)){const r=this.formatter.address(e),n=r.substring(2).toLowerCase()+".addr.reverse",o=yield this._getResolver(n);if(!o)return null;t=new Ue(this,o,"_",r)}else if(t=yield this.getResolver(e),!t)return null;const r=yield t.getAvatar();return null==r?null:r.url}))}perform(e,t){return _e.throwError(e+" not implemented",n.Yd.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter((e=>e.pollable())).length>0}_stopEvent(e){this.polling=this._events.filter((e=>e.pollable())).length>0}_addEventListener(e,t,r){const n=new xe(Pe(e),t,r);return this._events.push(n),this._startEvent(n),this}on(e,t){return this._addEventListener(e,t,!1)}once(e,t){return this._addEventListener(e,t,!0)}emit(e,...t){let r=!1,n=[],o=Pe(e);return this._events=this._events.filter((e=>e.tag!==o||(setTimeout((()=>{e.listener.apply(this,t)}),0),r=!0,!e.once||(n.push(e),!1)))),n.forEach((e=>{this._stopEvent(e)})),r}listenerCount(e){if(!e)return this._events.length;let t=Pe(e);return this._events.filter((e=>e.tag===t)).length}listeners(e){if(null==e)return this._events.map((e=>e.listener));let t=Pe(e);return this._events.filter((e=>e.tag===t)).map((e=>e.listener))}off(e,t){if(null==t)return this.removeAllListeners(e);const r=[];let n=!1,o=Pe(e);return this._events=this._events.filter((e=>e.tag!==o||e.listener!=t||(!!n||(n=!0,r.push(e),!1)))),r.forEach((e=>{this._stopEvent(e)})),this}removeAllListeners(e){let t=[];if(null==e)t=this._events,this._events=[];else{const r=Pe(e);this._events=this._events.filter((e=>e.tag!==r||(t.push(e),!1)))}return t.forEach((e=>{this._stopEvent(e)})),this}}var Me=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{l(n.next(e))}catch(t){i(t)}}function a(e){try{l(n.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};const qe=new n.Yd(v),Ye=["call","estimateGas"];function ze(e,t,r){if("call"===e&&t.code===n.Yd.errors.SERVER_ERROR){const e=t.error;if(e&&e.message.match("reverted")&&(0,p.A7)(e.data))return e.data;qe.throwError("missing revert data in call exception",n.Yd.errors.CALL_EXCEPTION,{error:t,data:"0x"})}let o=t.message;t.code===n.Yd.errors.SERVER_ERROR&&t.error&&"string"===typeof t.error.message?o=t.error.message:"string"===typeof t.body?o=t.body:"string"===typeof t.responseText&&(o=t.responseText),o=(o||"").toLowerCase();const i=r.transaction||r.signedTransaction;throw o.match(/insufficient funds|base fee exceeds gas limit/)&&qe.throwError("insufficient funds for intrinsic transaction cost",n.Yd.errors.INSUFFICIENT_FUNDS,{error:t,method:e,transaction:i}),o.match(/nonce too low/)&&qe.throwError("nonce has already been used",n.Yd.errors.NONCE_EXPIRED,{error:t,method:e,transaction:i}),o.match(/replacement transaction underpriced/)&&qe.throwError("replacement fee too low",n.Yd.errors.REPLACEMENT_UNDERPRICED,{error:t,method:e,transaction:i}),o.match(/only replay-protected/)&&qe.throwError("legacy pre-eip-155 transactions not supported",n.Yd.errors.UNSUPPORTED_OPERATION,{error:t,method:e,transaction:i}),Ye.indexOf(e)>=0&&o.match(/gas required exceeds allowance|always failing transaction|execution reverted/)&&qe.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",n.Yd.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,method:e,transaction:i}),t}function Ke(e){return new Promise((function(t){setTimeout(t,e)}))}function He(e){if(e.error){const t=new Error(e.error.message);throw t.code=e.error.code,t.data=e.error.data,t}return e.result}function We(e){return e?e.toLowerCase():e}const Ve={};class Je extends N.E{constructor(e,t,r){if(qe.checkNew(new.target,Je),super(),e!==Ve)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");(0,h.zG)(this,"provider",t),null==r&&(r=0),"string"===typeof r?((0,h.zG)(this,"_address",this.provider.formatter.address(r)),(0,h.zG)(this,"_index",null)):"number"===typeof r?((0,h.zG)(this,"_index",r),(0,h.zG)(this,"_address",null)):qe.throwArgumentError("invalid address or index","addressOrIndex",r)}connect(e){return qe.throwError("cannot alter JSON-RPC Signer connection",n.Yd.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new Xe(Ve,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then((e=>(e.length<=this._index&&qe.throwError("unknown account #"+this._index,n.Yd.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index]))))}sendUncheckedTransaction(e){e=(0,h.DC)(e);const t=this.getAddress().then((e=>(e&&(e=e.toLowerCase()),e)));if(null==e.gasLimit){const r=(0,h.DC)(e);r.from=t,e.gasLimit=this.provider.estimateGas(r)}return null!=e.to&&(e.to=Promise.resolve(e.to).then((e=>Me(this,void 0,void 0,(function*(){if(null==e)return null;const t=yield this.provider.resolveName(e);return null==t&&qe.throwArgumentError("provided ENS name resolves to null","tx.to",e),t}))))),(0,h.mE)({tx:(0,h.mE)(e),sender:t}).then((({tx:t,sender:r})=>{null!=t.from?t.from.toLowerCase()!==r&&qe.throwArgumentError("from address mismatch","transaction",e):t.from=r;const n=this.provider.constructor.hexlifyTransaction(t,{from:!0});return this.provider.send("eth_sendTransaction",[n]).then((e=>e),(e=>ze("sendTransaction",e,n)))}))}signTransaction(e){return qe.throwError("signing transactions is unsupported",n.Yd.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return Me(this,void 0,void 0,(function*(){const t=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),r=yield this.sendUncheckedTransaction(e);try{return yield Q((()=>Me(this,void 0,void 0,(function*(){const e=yield this.provider.getTransaction(r);if(null!==e)return this.provider._wrapTransaction(e,r,t)}))),{oncePoll:this.provider})}catch(n){throw n.transactionHash=r,n}}))}signMessage(e){return Me(this,void 0,void 0,(function*(){const t="string"===typeof e?(0,q.Y0)(e):e,r=yield this.getAddress();return yield this.provider.send("personal_sign",[(0,p.Dv)(t),r.toLowerCase()])}))}_legacySignMessage(e){return Me(this,void 0,void 0,(function*(){const t="string"===typeof e?(0,q.Y0)(e):e,r=yield this.getAddress();return yield this.provider.send("eth_sign",[r.toLowerCase(),(0,p.Dv)(t)])}))}_signTypedData(e,t,r){return Me(this,void 0,void 0,(function*(){const n=yield M.resolveNames(e,t,r,(e=>this.provider.resolveName(e))),o=yield this.getAddress();return yield this.provider.send("eth_signTypedData_v4",[o.toLowerCase(),JSON.stringify(M.getPayload(n.domain,t,n.value))])}))}unlock(e){return Me(this,void 0,void 0,(function*(){const t=this.provider,r=yield this.getAddress();return t.send("personal_unlockAccount",[r.toLowerCase(),e,null])}))}}class Xe extends Je{sendTransaction(e){return this.sendUncheckedTransaction(e).then((e=>({hash:e,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:t=>this.provider.waitForTransaction(e,t)})))}}const Ze={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class Qe extends je{constructor(e,t){qe.checkNew(new.target,Qe);let r=t;null==r&&(r=new Promise(((e,t)=>{setTimeout((()=>{this.detectNetwork().then((t=>{e(t)}),(e=>{t(e)}))}),0)}))),super(r),e||(e=(0,h.tu)(this.constructor,"defaultUrl")()),"string"===typeof e?(0,h.zG)(this,"connection",Object.freeze({url:e})):(0,h.zG)(this,"connection",Object.freeze((0,h.DC)(e))),this._nextId=42}get _cache(){return null==this._eventLoopCache&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout((()=>{this._cache.detectNetwork=null}),0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return Me(this,void 0,void 0,(function*(){yield Ke(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch(t){try{e=yield this.send("net_version",[])}catch(t){}}if(null!=e){const r=(0,h.tu)(this.constructor,"getNetwork");try{return r(m.O$.from(e).toNumber())}catch(t){return qe.throwError("could not detect network",n.Yd.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:t})}}return qe.throwError("could not detect network",n.Yd.errors.NETWORK_ERROR,{event:"noNetwork"})}))}getSigner(e){return new Je(Ve,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then((e=>e.map((e=>this.formatter.address(e)))))}send(e,t){const r={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:(0,h.p$)(r),provider:this});const n=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(n&&this._cache[e])return this._cache[e];const o=Z(this.connection,JSON.stringify(r),He).then((e=>(this.emit("debug",{action:"response",request:r,response:e,provider:this}),e)),(e=>{throw this.emit("debug",{action:"response",error:e,request:r,provider:this}),e}));return n&&(this._cache[e]=o,setTimeout((()=>{this._cache[e]=null}),0)),o}prepareRequest(e,t){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[We(t.address),t.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[We(t.address),t.blockTag]];case"getCode":return["eth_getCode",[We(t.address),t.blockTag]];case"getStorageAt":return["eth_getStorageAt",[We(t.address),t.position,t.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[t.signedTransaction]];case"getBlock":return t.blockTag?["eth_getBlockByNumber",[t.blockTag,!!t.includeTransactions]]:t.blockHash?["eth_getBlockByHash",[t.blockHash,!!t.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[t.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[t.transactionHash]];case"call":return["eth_call",[(0,h.tu)(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0}),t.blockTag]];case"estimateGas":return["eth_estimateGas",[(0,h.tu)(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0})]];case"getLogs":return t.filter&&null!=t.filter.address&&(t.filter.address=We(t.filter.address)),["eth_getLogs",[t.filter]]}return null}perform(e,t){return Me(this,void 0,void 0,(function*(){if("call"===e||"estimateGas"===e){const e=t.transaction;if(e&&null!=e.type&&m.O$.from(e.type).isZero()&&null==e.maxFeePerGas&&null==e.maxPriorityFeePerGas){const r=yield this.getFeeData();null==r.maxFeePerGas&&null==r.maxPriorityFeePerGas&&((t=(0,h.DC)(t)).transaction=(0,h.DC)(e),delete t.transaction.type)}}const r=this.prepareRequest(e,t);null==r&&qe.throwError(e+" not implemented",n.Yd.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(r[0],r[1])}catch(o){return ze(e,o,t)}}))}_startEvent(e){"pending"===e.tag&&this._startPending(),super._startEvent(e)}_startPending(){if(null!=this._pendingFilter)return;const e=this,t=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=t,t.then((function(r){return function n(){e.send("eth_getFilterChanges",[r]).then((function(r){if(e._pendingFilter!=t)return null;let n=Promise.resolve();return r.forEach((function(t){e._emitted["t:"+t.toLowerCase()]="pending",n=n.then((function(){return e.getTransaction(t).then((function(t){return e.emit("pending",t),null}))}))})),n.then((function(){return Ke(1e3)}))})).then((function(){if(e._pendingFilter==t)return setTimeout((function(){n()}),0),null;e.send("eth_uninstallFilter",[r])})).catch((e=>{}))}(),r})).catch((e=>{}))}_stopEvent(e){"pending"===e.tag&&0===this.listenerCount("pending")&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,t){const r=(0,h.DC)(Ze);if(t)for(const o in t)t[o]&&(r[o]=!0);(0,h.uj)(e,r);const n={};return["gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach((function(t){if(null==e[t])return;const r=(0,p.$P)(e[t]);"gasLimit"===t&&(t="gas"),n[t]=r})),["from","to","data"].forEach((function(t){null!=e[t]&&(n[t]=(0,p.Dv)(e[t]))})),e.accessList&&(n.accessList=(0,g.z7)(e.accessList)),n}}let et=null;try{if(et=WebSocket,null==et)throw new Error("inject please")}catch(tr){const e=new n.Yd(v);et=function(){e.throwError("WebSockets not supported in this environment",n.Yd.errors.UNSUPPORTED_OPERATION,{operation:"new WebSocket()"})}}var tt=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{l(n.next(e))}catch(t){i(t)}}function a(e){try{l(n.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};const rt=new n.Yd(v);let nt=1;class ot extends Qe{constructor(e,t){"any"===t&&rt.throwError("WebSocketProvider does not support 'any' network yet",n.Yd.errors.UNSUPPORTED_OPERATION,{operation:"network:any"}),super(e,t),this._pollingInterval=-1,this._wsReady=!1,(0,h.zG)(this,"_websocket",new et(this.connection.url)),(0,h.zG)(this,"_requests",{}),(0,h.zG)(this,"_subs",{}),(0,h.zG)(this,"_subIds",{}),(0,h.zG)(this,"_detectNetwork",super.detectNetwork()),this._websocket.onopen=()=>{this._wsReady=!0,Object.keys(this._requests).forEach((e=>{this._websocket.send(this._requests[e].payload)}))},this._websocket.onmessage=e=>{const t=e.data,r=JSON.parse(t);if(null!=r.id){const e=String(r.id),n=this._requests[e];if(delete this._requests[e],void 0!==r.result)n.callback(null,r.result),this.emit("debug",{action:"response",request:JSON.parse(n.payload),response:r.result,provider:this});else{let e=null;r.error?(e=new Error(r.error.message||"unknown error"),(0,h.zG)(e,"code",r.error.code||null),(0,h.zG)(e,"response",t)):e=new Error("unknown error"),n.callback(e,void 0),this.emit("debug",{action:"response",error:e,request:JSON.parse(n.payload),provider:this})}}else if("eth_subscription"===r.method){const e=this._subs[r.params.subscription];e&&e.processFunc(r.params.result)}else console.warn("this should not happen")};const r=setInterval((()=>{this.emit("poll")}),1e3);r.unref&&r.unref()}detectNetwork(){return this._detectNetwork}get pollingInterval(){return 0}resetEventsBlock(e){rt.throwError("cannot reset events block on WebSocketProvider",n.Yd.errors.UNSUPPORTED_OPERATION,{operation:"resetEventBlock"})}set pollingInterval(e){rt.throwError("cannot set polling interval on WebSocketProvider",n.Yd.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})}poll(){return tt(this,void 0,void 0,(function*(){return null}))}set polling(e){e&&rt.throwError("cannot set polling on WebSocketProvider",n.Yd.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})}send(e,t){const r=nt++;return new Promise(((n,o)=>{const i=JSON.stringify({method:e,params:t,id:r,jsonrpc:"2.0"});this.emit("debug",{action:"request",request:JSON.parse(i),provider:this}),this._requests[String(r)]={callback:function(e,t){return e?o(e):n(t)},payload:i},this._wsReady&&this._websocket.send(i)}))}static defaultUrl(){return"ws://localhost:8546"}_subscribe(e,t,r){return tt(this,void 0,void 0,(function*(){let n=this._subIds[e];null==n&&(n=Promise.all(t).then((e=>this.send("eth_subscribe",e))),this._subIds[e]=n);const o=yield n;this._subs[o]={tag:e,processFunc:r}}))}_startEvent(e){switch(e.type){case"block":this._subscribe("block",["newHeads"],(e=>{const t=m.O$.from(e.number).toNumber();this._emitted.block=t,this.emit("block",t)}));break;case"pending":this._subscribe("pending",["newPendingTransactions"],(e=>{this.emit("pending",e)}));break;case"filter":this._subscribe(e.tag,["logs",this._getFilter(e.filter)],(t=>{null==t.removed&&(t.removed=!1),this.emit(e.filter,this.formatter.filterLog(t))}));break;case"tx":{const t=e=>{const t=e.hash;this.getTransactionReceipt(t).then((e=>{e&&this.emit(t,e)}))};t(e),this._subscribe("tx",["newHeads"],(e=>{this._events.filter((e=>"tx"===e.type)).forEach(t)}));break}case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",e)}}_stopEvent(e){let t=e.tag;if("tx"===e.type){if(this._events.filter((e=>"tx"===e.type)).length)return;t="tx"}else if(this.listenerCount(e.event))return;const r=this._subIds[t];r&&(delete this._subIds[t],r.then((e=>{this._subs[e]&&(delete this._subs[e],this.send("eth_unsubscribe",[e]))})))}destroy(){return tt(this,void 0,void 0,(function*(){this._websocket.readyState===et.CONNECTING&&(yield new Promise((e=>{this._websocket.onopen=function(){e(!0)},this._websocket.onerror=function(){e(!1)}}))),this._websocket.close(1e3)}))}}var it=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{l(n.next(e))}catch(t){i(t)}}function a(e){try{l(n.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};const st=new n.Yd(v);class at extends Qe{detectNetwork(){const e=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return it(this,void 0,void 0,(function*(){let t=this.network;return null==t&&(t=yield e.detectNetwork.call(this),t||st.throwError("no network detected",n.Yd.errors.UNKNOWN_ERROR,{}),null==this._network&&((0,h.zG)(this,"_network",t),this.emit("network",t,null))),t}))}}class lt extends at{constructor(e,t){st.checkAbstract(new.target,lt),e=(0,h.tu)(new.target,"getNetwork")(e),t=(0,h.tu)(new.target,"getApiKey")(t);super((0,h.tu)(new.target,"getUrl")(e,t),e),"string"===typeof t?(0,h.zG)(this,"apiKey",t):null!=t&&Object.keys(t).forEach((e=>{(0,h.zG)(this,e,t[e])}))}_startPending(){st.warn("WARNING: API provider does not support pending filters")}isCommunityResource(){return!1}getSigner(e){return st.throwError("API provider does not support signing",n.Yd.errors.UNSUPPORTED_OPERATION,{operation:"getSigner"})}listAccounts(){return Promise.resolve([])}static getApiKey(e){return e}static getUrl(e,t){return st.throwError("not implemented; sub-classes must override getUrl",n.Yd.errors.NOT_IMPLEMENTED,{operation:"getUrl"})}}const ct=new n.Yd(v),ut="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";class dt extends ot{constructor(e,t){const r=new ht(e,t);super(r.connection.url.replace(/^http/i,"ws").replace(".alchemyapi.",".ws.alchemyapi."),r.network),(0,h.zG)(this,"apiKey",r.apiKey)}isCommunityResource(){return this.apiKey===ut}}class ht extends lt{static getWebSocketProvider(e,t){return new dt(e,t)}static getApiKey(e){return null==e?ut:(e&&"string"!==typeof e&&ct.throwArgumentError("invalid apiKey","apiKey",e),e)}static getUrl(e,t){let r=null;switch(e.name){case"homestead":r="eth-mainnet.alchemyapi.io/v2/";break;case"ropsten":r="eth-ropsten.alchemyapi.io/v2/";break;case"rinkeby":r="eth-rinkeby.alchemyapi.io/v2/";break;case"goerli":r="eth-goerli.alchemyapi.io/v2/";break;case"kovan":r="eth-kovan.alchemyapi.io/v2/";break;case"matic":r="polygon-mainnet.g.alchemy.com/v2/";break;case"maticmum":r="polygon-mumbai.g.alchemy.com/v2/";break;case"arbitrum":r="arb-mainnet.g.alchemy.com/v2/";break;case"arbitrum-rinkeby":r="arb-rinkeby.g.alchemy.com/v2/";break;case"optimism":r="opt-mainnet.g.alchemy.com/v2/";break;case"optimism-kovan":r="opt-kovan.g.alchemy.com/v2/";break;default:ct.throwArgumentError("unsupported network","network",arguments[0])}return{allowGzip:!0,url:"https://"+r+t,throttleCallback:(e,r)=>(t===ut&&E(),Promise.resolve(!0))}}isCommunityResource(){return this.apiKey===ut}}var ft=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{l(n.next(e))}catch(t){i(t)}}function a(e){try{l(n.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};const mt=new n.Yd(v);class pt extends lt{static getApiKey(e){return null!=e&&mt.throwArgumentError("apiKey not supported for cloudflare","apiKey",e),null}static getUrl(e,t){let r=null;if("homestead"===e.name)r="https://cloudflare-eth.com/";else mt.throwArgumentError("unsupported network","network",arguments[0]);return r}perform(e,t){const r=Object.create(null,{perform:{get:()=>super.perform}});return ft(this,void 0,void 0,(function*(){if("getBlockNumber"===e){return(yield r.perform.call(this,"getBlock",{blockTag:"latest"})).number}return r.perform.call(this,e,t)}))}}var gt=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{l(n.next(e))}catch(t){i(t)}}function a(e){try{l(n.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};const vt=new n.Yd(v);function bt(e){const t={};for(let r in e){if(null==e[r])continue;let n=e[r];"type"===r&&0===n||(n={type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[r]?(0,p.$P)((0,p.Dv)(n)):"accessList"===r?"["+(0,g.z7)(n).map((e=>`{address:"${e.address}",storageKeys:["${e.storageKeys.join('","')}"]}`)).join(",")+"]":(0,p.Dv)(n),t[r]=n)}return t}function yt(e){if(0==e.status&&("No records found"===e.message||"No transactions found"===e.message))return e.result;if(1!=e.status||"OK"!=e.message){const t=new Error("invalid response");throw t.result=JSON.stringify(e),(e.result||"").toLowerCase().indexOf("rate limit")>=0&&(t.throttleRetry=!0),t}return e.result}function wt(e){if(e&&0==e.status&&"NOTOK"==e.message&&(e.result||"").toLowerCase().indexOf("rate limit")>=0){const t=new Error("throttled response");throw t.result=JSON.stringify(e),t.throttleRetry=!0,t}if("2.0"!=e.jsonrpc){const t=new Error("invalid response");throw t.result=JSON.stringify(e),t}if(e.error){const t=new Error(e.error.message||"unknown error");throw e.error.code&&(t.code=e.error.code),e.error.data&&(t.data=e.error.data),t}return e.result}function kt(e){if("pending"===e)throw new Error("pending not supported");return"latest"===e?e:parseInt(e.substring(2),16)}const Et="9D13ZE7XSBTJ94N9BNJ2MA33VMAY2YPIRB";function Nt(e,t,r){if("call"===e&&t.code===n.Yd.errors.SERVER_ERROR){const e=t.error;if(e&&(e.message.match(/reverted/i)||e.message.match(/VM execution error/i))){let r=e.data;if(r&&(r="0x"+r.replace(/^.*0x/i,"")),(0,p.A7)(r))return r;vt.throwError("missing revert data in call exception",n.Yd.errors.CALL_EXCEPTION,{error:t,data:"0x"})}}let o=t.message;throw t.code===n.Yd.errors.SERVER_ERROR&&(t.error&&"string"===typeof t.error.message?o=t.error.message:"string"===typeof t.body?o=t.body:"string"===typeof t.responseText&&(o=t.responseText)),o=(o||"").toLowerCase(),o.match(/insufficient funds/)&&vt.throwError("insufficient funds for intrinsic transaction cost",n.Yd.errors.INSUFFICIENT_FUNDS,{error:t,method:e,transaction:r}),o.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&vt.throwError("nonce has already been used",n.Yd.errors.NONCE_EXPIRED,{error:t,method:e,transaction:r}),o.match(/another transaction with same nonce/)&&vt.throwError("replacement fee too low",n.Yd.errors.REPLACEMENT_UNDERPRICED,{error:t,method:e,transaction:r}),o.match(/execution failed due to an exception|execution reverted/)&&vt.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",n.Yd.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,method:e,transaction:r}),t}class _t extends je{constructor(e,t){vt.checkNew(new.target,_t),super(e),(0,h.zG)(this,"baseUrl",this.getBaseUrl()),(0,h.zG)(this,"apiKey",t||Et)}getBaseUrl(){switch(this.network?this.network.name:"invalid"){case"homestead":return"https://api.etherscan.io";case"ropsten":return"https://api-ropsten.etherscan.io";case"rinkeby":return"https://api-rinkeby.etherscan.io";case"kovan":return"https://api-kovan.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io"}return vt.throwArgumentError("unsupported network","network",name)}getUrl(e,t){const r=Object.keys(t).reduce(((e,r)=>{const n=t[r];return null!=n&&(e+=`&${r}=${n}`),e}),""),n=this.apiKey?`&apikey=${this.apiKey}`:"";return`${this.baseUrl}/api?module=${e}${r}${n}`}getPostUrl(){return`${this.baseUrl}/api`}getPostData(e,t){return t.module=e,t.apikey=this.apiKey,t}fetch(e,t,r){return gt(this,void 0,void 0,(function*(){const n=r?this.getPostUrl():this.getUrl(e,t),o=r?this.getPostData(e,t):null,i="proxy"===e?wt:yt;this.emit("debug",{action:"request",request:n,provider:this});const s={url:n,throttleSlotInterval:1e3,throttleCallback:(e,t)=>(this.isCommunityResource()&&E(),Promise.resolve(!0))};let a=null;o&&(s.headers={"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},a=Object.keys(o).map((e=>`${e}=${o[e]}`)).join("&"));const l=yield Z(s,a,i||wt);return this.emit("debug",{action:"response",request:n,response:(0,h.p$)(l),provider:this}),l}))}detectNetwork(){return gt(this,void 0,void 0,(function*(){return this.network}))}perform(e,t){const r=Object.create(null,{perform:{get:()=>super.perform}});return gt(this,void 0,void 0,(function*(){switch(e){case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getBalance":return this.fetch("account",{action:"balance",address:t.address,tag:t.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:t.address,tag:t.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:t.address,tag:t.blockTag});case"getStorageAt":return this.fetch("proxy",{action:"eth_getStorageAt",address:t.address,position:t.position,tag:t.blockTag});case"sendTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:t.signedTransaction},!0).catch((e=>Nt("sendTransaction",e,t.signedTransaction)));case"getBlock":if(t.blockTag)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:t.blockTag,boolean:t.includeTransactions?"true":"false"});throw new Error("getBlock by blockHash not implemented");case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:t.transactionHash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:t.transactionHash});case"call":{if("latest"!==t.blockTag)throw new Error("EtherscanProvider does not support blockTag for call");const e=bt(t.transaction);e.module="proxy",e.action="eth_call";try{return yield this.fetch("proxy",e,!0)}catch(tr){return Nt("call",tr,t.transaction)}}case"estimateGas":{const e=bt(t.transaction);e.module="proxy",e.action="eth_estimateGas";try{return yield this.fetch("proxy",e,!0)}catch(tr){return Nt("estimateGas",tr,t.transaction)}}case"getLogs":{const e={action:"getLogs"};if(t.filter.fromBlock&&(e.fromBlock=kt(t.filter.fromBlock)),t.filter.toBlock&&(e.toBlock=kt(t.filter.toBlock)),t.filter.address&&(e.address=t.filter.address),t.filter.topics&&t.filter.topics.length>0&&(t.filter.topics.length>1&&vt.throwError("unsupported topic count",n.Yd.errors.UNSUPPORTED_OPERATION,{topics:t.filter.topics}),1===t.filter.topics.length)){const r=t.filter.topics[0];"string"===typeof r&&66===r.length||vt.throwError("unsupported topic format",n.Yd.errors.UNSUPPORTED_OPERATION,{topic0:r}),e.topic0=r}const r=yield this.fetch("logs",e);let o={};for(let t=0;t<r.length;t++){const e=r[t];if(null==e.blockHash){if(null==o[e.blockNumber]){const t=yield this.getBlock(e.blockNumber);t&&(o[e.blockNumber]=t.hash)}e.blockHash=o[e.blockNumber]}}return r}case"getEtherPrice":return"homestead"!==this.network.name?0:parseFloat((yield this.fetch("stats",{action:"ethprice"})).ethusd)}return r.perform.call(this,e,t)}))}getHistory(e,t,r){return gt(this,void 0,void 0,(function*(){const n={action:"txlist",address:yield this.resolveName(e),startblock:null==t?0:t,endblock:null==r?99999999:r,sort:"asc"};return(yield this.fetch("account",n)).map((e=>{["contractAddress","to"].forEach((function(t){""==e[t]&&delete e[t]})),null==e.creates&&null!=e.contractAddress&&(e.creates=e.contractAddress);const t=this.formatter.transactionResponse(e);return e.timeStamp&&(t.timestamp=parseInt(e.timeStamp)),t}))}))}isCommunityResource(){return this.apiKey===Et}}var Tt=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{l(n.next(e))}catch(t){i(t)}}function a(e){try{l(n.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};const It=new n.Yd(v);function Pt(){return(new Date).getTime()}function Rt(e){let t=null;for(let r=0;r<e.length;r++){const n=e[r];if(null==n)return null;t?t.name===n.name&&t.chainId===n.chainId&&(t.ensAddress===n.ensAddress||null==t.ensAddress&&null==n.ensAddress)||It.throwArgumentError("provider mismatch","networks",e):t=n}return t}function At(e,t){e=e.slice().sort();const r=Math.floor(e.length/2);if(e.length%2)return e[r];const n=e[r-1],o=e[r];return null!=t&&Math.abs(n-o)>t?null:(n+o)/2}function Ot(e){if(null===e)return"null";if("number"===typeof e||"boolean"===typeof e)return JSON.stringify(e);if("string"===typeof e)return e;if(m.O$.isBigNumber(e))return e.toString();if(Array.isArray(e))return JSON.stringify(e.map((e=>Ot(e))));if("object"===typeof e){const t=Object.keys(e);return t.sort(),"{"+t.map((t=>{let r=e[t];return r="function"===typeof r?"[function]":Ot(r),JSON.stringify(t)+":"+r})).join(",")+"}"}throw new Error("unknown value type: "+typeof e)}let xt=1;function Ct(e){let t=null,r=null,n=new Promise((n=>{t=function(){r&&(clearTimeout(r),r=null),n()},r=setTimeout(t,e)}));return{cancel:t,getPromise:function(){return n},wait:e=>(n=n.then(e),n)}}const Bt=[n.Yd.errors.CALL_EXCEPTION,n.Yd.errors.INSUFFICIENT_FUNDS,n.Yd.errors.NONCE_EXPIRED,n.Yd.errors.REPLACEMENT_UNDERPRICED,n.Yd.errors.UNPREDICTABLE_GAS_LIMIT],St=["address","args","errorArgs","errorSignature","method","transaction"];function Ft(e,t){const r={weight:e.weight};return Object.defineProperty(r,"provider",{get:()=>e.provider}),e.start&&(r.start=e.start),t&&(r.duration=t-e.start),e.done&&(e.error?r.error=e.error:r.result=e.result||null),r}function Dt(e,t,r){let n=Ot;switch(t){case"getBlockNumber":return function(t){const r=t.map((e=>e.result));let n=At(t.map((e=>e.result)),2);if(null!=n)return n=Math.ceil(n),r.indexOf(n+1)>=0&&n++,n>=e._highestBlockNumber&&(e._highestBlockNumber=n),e._highestBlockNumber};case"getGasPrice":return function(e){const t=e.map((e=>e.result));return t.sort(),t[Math.floor(t.length/2)]};case"getEtherPrice":return function(e){return At(e.map((e=>e.result)))};case"getBalance":case"getTransactionCount":case"getCode":case"getStorageAt":case"call":case"estimateGas":case"getLogs":break;case"getTransaction":case"getTransactionReceipt":n=function(e){return null==e?null:((e=(0,h.DC)(e)).confirmations=-1,Ot(e))};break;case"getBlock":n=r.includeTransactions?function(e){return null==e?null:((e=(0,h.DC)(e)).transactions=e.transactions.map((e=>((e=(0,h.DC)(e)).confirmations=-1,e))),Ot(e))}:function(e){return null==e?null:Ot(e)};break;default:throw new Error("unknown method: "+t)}return function(e,t){return function(r){const n={};r.forEach((t=>{const r=e(t.result);n[r]||(n[r]={count:0,result:t.result}),n[r].count++}));const o=Object.keys(n);for(let e=0;e<o.length;e++){const r=n[o[e]];if(r.count>=t)return r.result}}}(n,e.quorum)}function Lt(e,t){return Tt(this,void 0,void 0,(function*(){const r=e.provider;return null!=r.blockNumber&&r.blockNumber>=t||-1===t?r:Q((()=>new Promise(((n,o)=>{setTimeout((function(){return r.blockNumber>=t?n(r):e.cancelled?n(null):n(void 0)}),0)}))),{oncePoll:r})}))}function Ut(e,t,r,o){return Tt(this,void 0,void 0,(function*(){let i=e.provider;switch(r){case"getBlockNumber":case"getGasPrice":return i[r]();case"getEtherPrice":if(i.getEtherPrice)return i.getEtherPrice();break;case"getBalance":case"getTransactionCount":case"getCode":return o.blockTag&&(0,p.A7)(o.blockTag)&&(i=yield Lt(e,t)),i[r](o.address,o.blockTag||"latest");case"getStorageAt":return o.blockTag&&(0,p.A7)(o.blockTag)&&(i=yield Lt(e,t)),i.getStorageAt(o.address,o.position,o.blockTag||"latest");case"getBlock":return o.blockTag&&(0,p.A7)(o.blockTag)&&(i=yield Lt(e,t)),i[o.includeTransactions?"getBlockWithTransactions":"getBlock"](o.blockTag||o.blockHash);case"call":case"estimateGas":return o.blockTag&&(0,p.A7)(o.blockTag)&&(i=yield Lt(e,t)),i[r](o.transaction);case"getTransaction":case"getTransactionReceipt":return i[r](o.transactionHash);case"getLogs":{let r=o.filter;return(r.fromBlock&&(0,p.A7)(r.fromBlock)||r.toBlock&&(0,p.A7)(r.toBlock))&&(i=yield Lt(e,t)),i.getLogs(r)}}return It.throwError("unknown method error",n.Yd.errors.UNKNOWN_ERROR,{method:r,params:o})}))}class Gt extends je{constructor(e,t){It.checkNew(new.target,Gt),0===e.length&&It.throwArgumentError("missing providers","providers",e);const r=e.map(((e,t)=>{if(ee.zt.isProvider(e)){const t=w(e)?2e3:750,r=1;return Object.freeze({provider:e,weight:1,stallTimeout:t,priority:r})}const r=(0,h.DC)(e);null==r.priority&&(r.priority=1),null==r.stallTimeout&&(r.stallTimeout=w(e)?2e3:750),null==r.weight&&(r.weight=1);const n=r.weight;return(n%1||n>512||n<1)&&It.throwArgumentError("invalid weight; must be integer in [1, 512]",`providers[${t}].weight`,n),Object.freeze(r)})),n=r.reduce(((e,t)=>e+t.weight),0);null==t?t=n/2:t>n&&It.throwArgumentError("quorum will always fail; larger than total weight","quorum",t);let o=Rt(r.map((e=>e.provider.network)));null==o&&(o=new Promise(((e,t)=>{setTimeout((()=>{this.detectNetwork().then(e,t)}),0)}))),super(o),(0,h.zG)(this,"providerConfigs",Object.freeze(r)),(0,h.zG)(this,"quorum",t),this._highestBlockNumber=-1}detectNetwork(){return Tt(this,void 0,void 0,(function*(){return Rt(yield Promise.all(this.providerConfigs.map((e=>e.provider.getNetwork()))))}))}perform(e,t){return Tt(this,void 0,void 0,(function*(){if("sendTransaction"===e){const e=yield Promise.all(this.providerConfigs.map((e=>e.provider.sendTransaction(t.signedTransaction).then((e=>e.hash),(e=>e)))));for(let t=0;t<e.length;t++){const r=e[t];if("string"===typeof r)return r}throw e[0]}-1===this._highestBlockNumber&&"getBlockNumber"!==e&&(yield this.getBlockNumber());const r=Dt(this,e,t),o=function(e){for(let t=(e=e.slice()).length-1;t>0;t--){const r=Math.floor(Math.random()*(t+1)),n=e[t];e[t]=e[r],e[r]=n}return e}(this.providerConfigs.map(h.DC));o.sort(((e,t)=>e.priority-t.priority));const i=this._highestBlockNumber;let s=0,a=!0;for(;;){const n=Pt();let l=o.filter((e=>e.runner&&n-e.start<e.stallTimeout)).reduce(((e,t)=>e+t.weight),0);for(;l<this.quorum&&s<o.length;){const r=o[s++],n=xt++;r.start=Pt(),r.staller=Ct(r.stallTimeout),r.staller.wait((()=>{r.staller=null})),r.runner=Ut(r,i,e,t).then((o=>{r.done=!0,r.result=o,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:n,backend:Ft(r,Pt()),request:{method:e,params:(0,h.p$)(t)},provider:this})}),(o=>{r.done=!0,r.error=o,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:n,backend:Ft(r,Pt()),request:{method:e,params:(0,h.p$)(t)},provider:this})})),this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:n,backend:Ft(r,null),request:{method:e,params:(0,h.p$)(t)},provider:this}),l+=r.weight}const c=[];o.forEach((e=>{!e.done&&e.runner&&(c.push(e.runner),e.staller&&c.push(e.staller.getPromise()))})),c.length&&(yield Promise.race(c));const u=o.filter((e=>e.done&&null==e.error));if(u.length>=this.quorum){const e=r(u);if(void 0!==e)return o.forEach((e=>{e.staller&&e.staller.cancel(),e.cancelled=!0})),e;a||(yield Ct(100).getPromise()),a=!1}const d=o.reduce(((e,t)=>{if(!t.done||null==t.error)return e;const r=t.error.code;return Bt.indexOf(r)>=0&&(e[r]||(e[r]={error:t.error,weight:0}),e[r].weight+=t.weight),e}),{});if(Object.keys(d).forEach((e=>{const t=d[e];if(t.weight<this.quorum)return;o.forEach((e=>{e.staller&&e.staller.cancel(),e.cancelled=!0}));const r=t.error,n={};St.forEach((e=>{null!=r[e]&&(n[e]=r[e])})),It.throwError(r.reason||r.message,e,n)})),0===o.filter((e=>!e.done)).length)break}return o.forEach((e=>{e.staller&&e.staller.cancel(),e.cancelled=!0})),It.throwError("failed to meet quorum",n.Yd.errors.SERVER_ERROR,{method:e,params:t,results:o.map((e=>Ft(e))),provider:this})}))}}const $t=new n.Yd(v),jt="84842078b09946638c03157f83405213";class Mt extends ot{constructor(e,t){const r=new qt(e,t),o=r.connection;o.password&&$t.throwError("INFURA WebSocket project secrets unsupported",n.Yd.errors.UNSUPPORTED_OPERATION,{operation:"InfuraProvider.getWebSocketProvider()"});super(o.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/"),e),(0,h.zG)(this,"apiKey",r.projectId),(0,h.zG)(this,"projectId",r.projectId),(0,h.zG)(this,"projectSecret",r.projectSecret)}isCommunityResource(){return this.projectId===jt}}class qt extends lt{static getWebSocketProvider(e,t){return new Mt(e,t)}static getApiKey(e){const t={apiKey:jt,projectId:jt,projectSecret:null};return null==e||("string"===typeof e?t.projectId=e:null!=e.projectSecret?($t.assertArgument("string"===typeof e.projectId,"projectSecret requires a projectId","projectId",e.projectId),$t.assertArgument("string"===typeof e.projectSecret,"invalid projectSecret","projectSecret","[REDACTED]"),t.projectId=e.projectId,t.projectSecret=e.projectSecret):e.projectId&&(t.projectId=e.projectId),t.apiKey=t.projectId),t}static getUrl(e,t){let r=null;switch(e?e.name:"unknown"){case"homestead":r="mainnet.infura.io";break;case"ropsten":r="ropsten.infura.io";break;case"rinkeby":r="rinkeby.infura.io";break;case"kovan":r="kovan.infura.io";break;case"goerli":r="goerli.infura.io";break;case"matic":r="polygon-mainnet.infura.io";break;case"maticmum":r="polygon-mumbai.infura.io";break;case"optimism":r="optimism-mainnet.infura.io";break;case"optimism-kovan":r="optimism-kovan.infura.io";break;case"arbitrum":r="arbitrum-mainnet.infura.io";break;case"arbitrum-rinkeby":r="arbitrum-rinkeby.infura.io";break;default:$t.throwError("unsupported network",n.Yd.errors.INVALID_ARGUMENT,{argument:"network",value:e})}const o={allowGzip:!0,url:"https://"+r+"/v3/"+t.projectId,throttleCallback:(e,r)=>(t.projectId===jt&&E(),Promise.resolve(!0))};return null!=t.projectSecret&&(o.user="",o.password=t.projectSecret),o}isCommunityResource(){return this.projectId===jt}}const Yt=new n.Yd(v);class zt extends lt{static getApiKey(e){return e&&"string"!==typeof e&&Yt.throwArgumentError("invalid apiKey","apiKey",e),e||"ETHERS_JS_SHARED"}static getUrl(e,t){Yt.warn("NodeSmith will be discontinued on 2019-12-20; please migrate to another platform.");let r=null;switch(e.name){case"homestead":r="https://ethereum.api.nodesmith.io/v1/mainnet/jsonrpc";break;case"ropsten":r="https://ethereum.api.nodesmith.io/v1/ropsten/jsonrpc";break;case"rinkeby":r="https://ethereum.api.nodesmith.io/v1/rinkeby/jsonrpc";break;case"goerli":r="https://ethereum.api.nodesmith.io/v1/goerli/jsonrpc";break;case"kovan":r="https://ethereum.api.nodesmith.io/v1/kovan/jsonrpc";break;default:Yt.throwArgumentError("unsupported network","network",arguments[0])}return r+"?apiKey="+t}}const Kt=new n.Yd(v),Ht={homestead:"6004bcd10040261633ade990",ropsten:"6004bd4d0040261633ade991",rinkeby:"6004bda20040261633ade994",goerli:"6004bd860040261633ade992"};class Wt extends lt{constructor(e,t){if(null==t){const r=(0,h.tu)(new.target,"getNetwork")(e);if(r){const e=Ht[r.name];e&&(t={applicationId:e,loadBalancer:!0})}null==t&&Kt.throwError("unsupported network",n.Yd.errors.INVALID_ARGUMENT,{argument:"network",value:e})}super(e,t)}static getApiKey(e){null==e&&Kt.throwArgumentError("PocketProvider.getApiKey does not support null apiKey","apiKey",e);const t={applicationId:null,loadBalancer:!1,applicationSecretKey:null};return"string"===typeof e?t.applicationId=e:null!=e.applicationSecretKey?(Kt.assertArgument("string"===typeof e.applicationId,"applicationSecretKey requires an applicationId","applicationId",e.applicationId),Kt.assertArgument("string"===typeof e.applicationSecretKey,"invalid applicationSecretKey","applicationSecretKey","[REDACTED]"),t.applicationId=e.applicationId,t.applicationSecretKey=e.applicationSecretKey,t.loadBalancer=!!e.loadBalancer):e.applicationId?(Kt.assertArgument("string"===typeof e.applicationId,"apiKey.applicationId must be a string","apiKey.applicationId",e.applicationId),t.applicationId=e.applicationId,t.loadBalancer=!!e.loadBalancer):Kt.throwArgumentError("unsupported PocketProvider apiKey","apiKey",e),t}static getUrl(e,t){let r=null;switch(e?e.name:"unknown"){case"homestead":r="eth-mainnet.gateway.pokt.network";break;case"ropsten":r="eth-ropsten.gateway.pokt.network";break;case"rinkeby":r="eth-rinkeby.gateway.pokt.network";break;case"goerli":r="eth-goerli.gateway.pokt.network";break;default:Kt.throwError("unsupported network",n.Yd.errors.INVALID_ARGUMENT,{argument:"network",value:e})}let o=null;o=t.loadBalancer?`https://${r}/v1/lb/${t.applicationId}`:`https://${r}/v1/${t.applicationId}`;const i={url:o,headers:{}};return null!=t.applicationSecretKey&&(i.user="",i.password=t.applicationSecretKey),i}isCommunityResource(){return this.applicationId===Ht[this.network.name]}}const Vt=new n.Yd(v);let Jt=1;function Xt(e,t){const r="Web3LegacyFetcher";return function(e,n){const o={method:e,params:n,id:Jt++,jsonrpc:"2.0"};return new Promise(((e,n)=>{this.emit("debug",{action:"request",fetcher:r,request:(0,h.p$)(o),provider:this}),t(o,((t,i)=>{if(t)return this.emit("debug",{action:"response",fetcher:r,error:t,request:o,provider:this}),n(t);if(this.emit("debug",{action:"response",fetcher:r,request:o,response:i,provider:this}),i.error){const e=new Error(i.error.message);return e.code=i.error.code,e.data=i.error.data,n(e)}e(i.result)}))}))}}class Zt extends Qe{constructor(e,t){Vt.checkNew(new.target,Zt),null==e&&Vt.throwArgumentError("missing provider","provider",e);let r=null,n=null,o=null;"function"===typeof e?(r="unknown:",n=e):(r=e.host||e.path||"",!r&&e.isMetaMask&&(r="metamask"),o=e,e.request?(""===r&&(r="eip-1193:"),n=function(e){return function(t,r){null==r&&(r=[]);const n={method:t,params:r};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:(0,h.p$)(n),provider:this}),e.request(n).then((e=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,response:e,provider:this}),e)),(e=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,error:e,provider:this}),e}))}}(e)):e.sendAsync?n=Xt(0,e.sendAsync.bind(e)):e.send?n=Xt(0,e.send.bind(e)):Vt.throwArgumentError("unsupported provider","provider",e),r||(r="unknown:")),super(r,t),(0,h.zG)(this,"jsonRpcFetchFunc",n),(0,h.zG)(this,"provider",o)}send(e,t){return this.jsonRpcFetchFunc(e,t)}}const Qt=new n.Yd(v);function er(e,t){if(null==e&&(e="homestead"),"string"===typeof e){const t=e.match(/^(ws|http)s?:/i);if(t)switch(t[1]){case"http":return new Qe(e);case"ws":return new ot(e);default:Qt.throwArgumentError("unsupported URL scheme","network",e)}}const r=d(e);return r&&r._defaultProvider||Qt.throwError("unsupported getDefaultProvider network",n.Yd.errors.NETWORK_ERROR,{operation:"getDefaultProvider",network:e}),r._defaultProvider({FallbackProvider:Gt,AlchemyProvider:ht,CloudflareProvider:pt,EtherscanProvider:_t,InfuraProvider:qt,JsonRpcProvider:Qe,NodesmithProvider:zt,PocketProvider:Wt,Web3Provider:Zt,IpcProvider:null},t)}},1302:function(e,t,r){r.d(t,{j:function(){return y}});var n=r(2570),o=r(7294),i=r(7495),s=r(8102),a=r(3453);let l=!1,c=!1;const u={debug:1,default:2,info:2,warning:3,error:4,off:5};let d=u.default,h=null;const f=function(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach((t=>{try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch(r){e.push(t)}})),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(e){return e.message}return null}();var m,p;!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(m||(m={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}(p||(p={}));const g="0123456789abcdef";class v{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const r=e.toLowerCase();null==u[r]&&this.throwArgumentError("invalid log level name","logLevel",e),d>u[r]||console.log.apply(console,t)}debug(...e){this._log(v.levels.DEBUG,e)}info(...e){this._log(v.levels.INFO,e)}warn(...e){this._log(v.levels.WARNING,e)}makeError(e,t,r){if(c)return this.makeError("censored error",t,{});t||(t=v.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((e=>{const t=r[e];try{if(t instanceof Uint8Array){let r="";for(let e=0;e<t.length;e++)r+=g[t[e]>>4],r+=g[15&t[e]];n.push(e+"=Uint8Array(0x"+r+")")}else n.push(e+"="+JSON.stringify(t))}catch(i){n.push(e+"="+JSON.stringify(r[e].toString()))}})),n.push(`code=${t}`),n.push(`version=${this.version}`);const o=e;n.length&&(e+=" ("+n.join(", ")+")");const i=new Error(e);return i.reason=o,i.code=t,Object.keys(r).forEach((function(e){i[e]=r[e]})),i}throwError(e,t,r){throw this.makeError(e,t,r)}throwArgumentError(e,t,r){return this.throwError(e,v.errors.INVALID_ARGUMENT,{argument:t,value:r})}assert(e,t,r,n){e||this.throwError(t,r,n)}assertArgument(e,t,r,n){e||this.throwArgumentError(t,r,n)}checkNormalize(e){null==e&&(e="platform missing String.prototype.normalize"),f&&this.throwError("platform missing String.prototype.normalize",v.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:f})}checkSafeUint53(e,t){"number"===typeof e&&(null==t&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,v.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,v.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,r){r=r?": "+r:"",e<t&&this.throwError("missing argument"+r,v.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+r,v.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){e!==Object&&null!=e||this.throwError("missing new",v.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",v.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):e!==Object&&null!=e||this.throwError("missing new",v.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return h||(h=new v("logger/5.5.0")),h}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",v.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),l){if(!e)return;this.globalLogger().throwError("error censorship permanent",v.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}c=!!e,l=!!t}static setLogLevel(e){const t=u[e.toLowerCase()];null!=t?d=t:v.globalLogger().warn("invalid log level - "+e)}static from(e){return new v(e)}}v.errors=p,v.levels=m;function b(e,t){const[r,n]=(0,o.useState)({status:"None"}),{addTransaction:i}=(0,s.W)(),{addNotification:l}=(0,a.l)();return{promiseTransaction:(0,o.useCallback)((async r=>{var o,s,a,c,u,d;if(!e)return;let h;try{h=await r,n({transaction:h,status:"Mining",chainId:e}),i({transaction:Object.assign(Object.assign({},h),{chainId:e}),submittedAt:Date.now(),transactionName:null===t||void 0===t?void 0:t.transactionName});const o=await h.wait();return n({receipt:o,transaction:h,status:"Success",chainId:e}),o}catch(f){const t=null!==(u=null!==(a=null!==(s=null===(o=f.error)||void 0===o?void 0:o.message)&&void 0!==s?s:f.reason)&&void 0!==a?a:null===(c=f.data)||void 0===c?void 0:c.message)&&void 0!==u?u:f.message;if(h){const r=(e=>(null===e||void 0===e?void 0:e.code)===p.TRANSACTION_REPLACED&&(null===e||void 0===e?void 0:e.replacement)&&("repriced"===(null===e||void 0===e?void 0:e.reason)||!1===(null===e||void 0===e?void 0:e.cancelled)))(f);if(r){const r=0===f.receipt.status?"Fail":"Success";l({notification:{type:"Fail"===r?"transactionFailed":"transactionSucceed",submittedAt:Date.now(),transaction:f.replacement,receipt:f.receipt,transactionName:null===(d=f.replacement)||void 0===d?void 0:d.transactionName,originalTransaction:h},chainId:e}),n({status:r,transaction:f.replacement,originalTransaction:h,receipt:f.receipt,errorMessage:t,chainId:e})}else n({status:"Fail",transaction:h,receipt:f.receipt,errorMessage:t,chainId:e})}else n({status:"Exception",errorMessage:t,chainId:e});return}}),[e,n,i,t]),state:r}}function y(e,t,r){const{library:s,chainId:a}=(0,i.K)(),{promiseTransaction:l,state:c}=b(a,r),[u,d]=(0,o.useState)(void 0),h=(0,o.useCallback)((async(...o)=>{const i=function(e,t,r){if(e.signer)return e;if(null===t||void 0===t?void 0:t.signer)return e.connect(t.signer);if(null===r||void 0===r?void 0:r.getSigner())return e.connect(r.getSigner());throw new TypeError("No signer available in contract, options or library")}(e,r,s),a=await l(i[t](...o));if(null===a||void 0===a?void 0:a.logs){const t=a.logs.reduce(((t,r)=>{try{return(0,n.Q)(r.address,e.address)?[...t,e.interface.parseLog(r)]:t}catch(o){return t}}),[]);d(t)}}),[e,t,r,s]);return{send:h,state:c,events:u}}},2640:function(e,t,r){function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],s=!0,a=!1;try{for(r=r.call(e);!(s=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);s=!0);}catch(l){a=!0,o=l}finally{try{s||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"===typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}r.d(t,{Z:function(){return o}})}}]);