(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[674],{5959:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return O}});var t=r(1163),a=r(3320),s=r(8527),i=r(6114),c=r(6723),d=r(7294),o=r(7495),l=r(1302),x=r(9739),u=r(2640),h=r(8636),j=r(6022),m=r(1015);function v(e,n,r){var t,a=m.Mt,s=null!==(t=(0,h.g)({abi:new j.vU(a),address:r,method:e,args:n}))&&void 0!==t?t:[];return(0,u.Z)(s,1)[0]}var p=r(883),g=r(325),f=r(5893),b=function(e){var n,r=(0,o.K)().account,t=e.contractAddress,a=m.Mt,u=v("name",[],t),h=v("symbol",[],t),b=v("totalSupply",[],t),w=v("mintCost",[],t),S=v("maxSupply",[],t),N=!!(b&&S&&b.gte(S)),_=(0,d.useState)(1),y=_[0],k=_[1],A=(0,d.useState)(!1),R=A[0],I=A[1];t&&(n=new x.CH(t,new j.vU(a),p.yl()));var C=(0,l.j)(n,"mint",{}),M=C.send,O=C.state,W="Mining"===O.status;return(0,f.jsxs)(s.W2,{maxWidth:"100%",centerContent:!0,children:[O.errorMessage&&(0,f.jsx)(g.j,{message:O.errorMessage}),(0,f.jsxs)(s.X6,{children:[u||"",h?"(".concat(h,")"):"..."]}),(0,f.jsxs)(s.xu,{d:"flex",marginTop:{base:"5"},children:[(0,f.jsxs)(i.Y2,{defaultValue:1,min:1,width:"20",onChange:function(e,n){isNaN(parseInt(e))?I(!0):I(!1),k(n)},children:[(0,f.jsx)(i.zu,{bg:"white"}),(0,f.jsxs)(i.Fi,{children:[(0,f.jsx)(i.WQ,{}),(0,f.jsx)(i.Y_,{})]})]}),(0,f.jsx)(c.zx,{isLoading:W,colorScheme:"teal",disabled:R||!r||N||W,marginLeft:"4",onClick:function(){M(y,{value:w.mul(y)})},children:"Mint"})]}),(0,f.jsxs)(s.xv,{mt:"4",children:[b?b.toString():0,"/",S?S.toString():0," minted"," "]})]})},w=r(381),S=r.n(w),N=function(e){var n=e.nextRevealInterval&&S().unix(e.nextRevealInterval.toNumber()).fromNow(),r=e.nextRevealBatchSize&&e.nextRevealBatchSize.toString();return(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)(s.xu,{marginTop:"5",children:[(0,f.jsx)(s.xv,{fontWeight:"bold",as:"span",marginRight:"3",children:r?"".concat(r," NFTS"):"... "}),(0,f.jsx)(s.xv,{as:"span",children:"or"}),(0,f.jsx)(s.xv,{fontWeight:"bold",as:"span",marginLeft:"3",children:n||"..."})]})})};var _=function(e){var n=e.contractAddress,r=function(e){var n=v("totalSupply",[],e),r=v("revealedCount",[],e),t=v("batchSize",[],e);if(r&&n&&t)return t.sub(n).add(r)}(n),t=function(e){var n=v("lastRevealed",[],e),r=v("revealedInterval",[],e);if(n&&r)return n.add(r)}(n),a=v("pendingReveal",[],n);return(0,f.jsx)(s.W2,{maxWidth:"100%",textAlign:"center",children:a?(0,f.jsx)(s.X6,{children:"Pending batch reveal"}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(s.X6,{children:"Next reveal after"}),(0,f.jsx)(N,{nextRevealInterval:t,nextRevealBatchSize:r})]})})},y=r(3465),k=r(9876),A=function(e){var n=e.contractAddress;return(0,f.jsxs)(s.W2,{mt:5,children:[(0,f.jsxs)(s.W2,{pb:"12",textAlign:"center",children:[(0,f.jsx)(s.X6,{as:"h2",size:"lg",pb:"4",children:"Items"}),(0,f.jsx)(s.xv,{pb:"4",children:"In this demo app we generate an SVG image on-chain and display the random number as text for demonstration purposes. In reality you may want to use it to generate random traits and complex graphics."}),(0,f.jsxs)(s.rU,{href:"https://github.com/hackbg/chainlink-keepers-templates/tree/main/batch-nft-reveal#metadata",isExternal:!0,children:["Learn More ",(0,f.jsx)(k.h0,{mx:"2px"})]})]}),(0,f.jsxs)(y.mQ,{children:[(0,f.jsxs)(y.td,{children:[(0,f.jsx)(y.OK,{_selected:{color:"white",bg:"teal"},children:"All"}),(0,f.jsx)(y.OK,{_selected:{color:"white",bg:"teal"},children:"Owned"})]}),(0,f.jsxs)(y.nP,{children:[(0,f.jsx)(y.x4,{children:(0,f.jsx)(C,{contractAddress:n})}),(0,f.jsx)(y.x4,{children:(0,f.jsx)(M,{contractAddress:n})})]})]})]})};function R(e){return JSON.parse(atob(e[0].split(",")[1])).image}var I=r(4651);var C=function(e){var n=function(e){for(var n=v("totalSupply",[],e),r=[],t=m.Mt,a=n&&n.toNumber(),s=1;s<=a;s++)r.push({abi:new j.vU(t),address:e,method:"tokenURI",args:[s]});return(0,h.o)(r)}(e.contractAddress),r=n&&n.slice().reverse().map((function(e,n){return(0,f.jsx)(s.P4,{colSpan:1,rowSpan:1,children:(0,f.jsx)(I.Ee,{src:e&&R(e)})},n)}));return(0,f.jsx)(f.Fragment,{children:0==r.length?(0,f.jsx)(s.xv,{children:"No tokens minted, yet."}):(0,f.jsx)(s.rj,{templateColumns:"repeat(3, 1fr)",gridGap:"10px",children:r})})};var M=function(e){var n=(0,o.K)().account,r=e.contractAddress,t=function(e,n){for(var r=v("balanceOf",[n],e),t=[],a=m.Mt,s=r&&r.toNumber(),i=0;i<s;i++)t.push({abi:new j.vU(a),address:e,method:"tokenOfOwnerByIndex",args:[n,i]});return(0,h.o)(t)}(r,n),a=function(e,n){var r=m.Mt,t=e.map((function(e){return{abi:new j.vU(r),address:n,method:"tokenURI",args:[e&&e.toString()]}}));return(0,h.o)(t)}(t,r).reverse().map((function(e,n){return(0,f.jsx)(s.P4,{colSpan:1,rowSpan:1,children:(0,f.jsx)(I.Ee,{src:e&&R(e)})},n)}));return(0,f.jsx)(f.Fragment,{children:0==a.length?(0,f.jsx)(s.xv,{children:"No tokens minted, yet"}):(0,f.jsx)(s.rj,{templateColumns:"repeat(3, 1fr)",gridGap:"10px",children:a})})};var O=function(){var e=(0,t.useRouter)().query.addr;return e?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(a.$0,{children:(0,f.jsx)(b,{contractAddress:e})}),(0,f.jsx)(a.$0,{children:(0,f.jsx)(_,{contractAddress:e})}),(0,f.jsx)(a.$0,{children:(0,f.jsx)(A,{contractAddress:e})})]}):(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(s.xv,{children:"Loading"})})}},9912:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/collection/[addr]",function(){return r(5959)}])}},function(e){e.O(0,[885,876,42,15,774,888,179],(function(){return n=9912,e(e.s=n);var n}));var n=e.O();_N_E=n}]);