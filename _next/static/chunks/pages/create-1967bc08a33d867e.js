(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[417],{998:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return E}});var n=t(29),s=t(7794),i=t.n(s),a=t(7294),l=t(7495),o=t(8527),c=t(3320),h=t(2580),d=t(9762),u=t(4612),x=t(7398),m=t(6723),p=t(9876),v=t(5893),j=function(e){var r;return e||(r="is required"),r},b=function(e){var r;return e?e&&/^[0-9]*$/.test(e)||(r="must be a positive number"):r="is required",r},f=function(e){var r=b(e);return!r&&Number(e)<=0&&(r="must be greater then zero"),r},g=function(e){var r;return e?e&&/^(0|([1-9][0-9]*))(\.[0-9]{0,18})?$/.test(e)||(r="must be positive fractional number"):r="is required",r},S=function(e){var r=e.onSubmit,t=e.isLoading,n=(0,l.K)(),s=n.account,i=n.error,a=(0,h.TA)({initialValues:{name:"",symbol:"",maxSupply:"",mintCost:"",revealBatchSize:"",revealInterval:"",vrfSubscriptionId:""},onSubmit:r});return(0,v.jsx)("form",{onSubmit:a.handleSubmit,children:(0,v.jsxs)(h.Hy,{value:a,children:[(0,v.jsxs)(d.NI,{isInvalid:a.touched.name&&!!a.errors.name,children:[(0,v.jsx)(d.lX,{htmlFor:"name",children:"Name"}),(0,v.jsx)(h.gN,{as:u.II,bg:"white",name:"name",validate:j}),a.errors.name&&a.touched.name&&(0,v.jsxs)(d.J1,{children:["Name ",a.errors.name]})]}),(0,v.jsxs)(d.NI,{mt:"4",isInvalid:a.touched.symbol&&!!a.errors.symbol,children:[(0,v.jsx)(d.lX,{htmlFor:"symbol",children:"Symbol"}),(0,v.jsx)(h.gN,{as:u.II,bg:"white",name:"symbol",validate:j}),a.errors.symbol&&a.touched.symbol&&(0,v.jsxs)(d.J1,{children:["Symbol ",a.errors.symbol]})]}),(0,v.jsxs)(d.NI,{mt:"4",isInvalid:a.touched.maxSupply&&!!a.errors.maxSupply,children:[(0,v.jsx)(d.lX,{htmlFor:"maxSupply",children:"Max supply"}),(0,v.jsx)(h.gN,{as:u.II,bg:"white",name:"maxSupply",validate:f}),a.errors.maxSupply&&a.touched.maxSupply&&(0,v.jsxs)(d.J1,{children:["Max supply ",a.errors.maxSupply]})]}),(0,v.jsxs)(d.NI,{mt:"4",isInvalid:a.touched.mintCost&&!!a.errors.mintCost,children:[(0,v.jsx)(d.lX,{htmlFor:"mintCost",children:"Cost to mint (ETH)"}),(0,v.jsx)(h.gN,{as:u.II,bg:"white",name:"mintCost",validate:g}),a.errors.mintCost&&a.touched.mintCost&&(0,v.jsxs)(d.J1,{children:["Cost to mint ",a.errors.mintCost]})]}),(0,v.jsx)(o.iz,{orientation:"horizontal",margin:"40px 20px 20px 0px",border:"width 10px"}),(0,v.jsx)(o.M5,{children:(0,v.jsx)(x.u,{label:"Using Chainlink VRF in generative art NFT collections is de-facto the standard approach for getting provably random source in smart contracts. By batching the reveal process, instead of making VRF calls for each NFT we can save cost up to 100x (in a collection of 10,000 with batch size of 100).",placement:"right-start",fontSize:"xs",hasArrow:!0,children:(0,v.jsxs)(o.X6,{as:"h2",size:"s",mb:"2",children:["Chainlink VRF ",(0,v.jsx)(p.UO,{w:"4",h:"4",mx:"2"})]})})}),(0,v.jsxs)(d.NI,{my:"4",isInvalid:a.touched.vrfSubscriptionId&&!!a.errors.vrfSubscriptionId,children:[(0,v.jsx)(d.lX,{htmlFor:"vrfSubscriptionId",children:"Subscription ID"}),(0,v.jsx)(h.gN,{as:u.II,bg:"white",name:"vrfSubscriptionId",validate:b}),a.errors.vrfSubscriptionId&&a.touched.vrfSubscriptionId&&(0,v.jsxs)(d.J1,{children:["Subscription ID ",a.errors.vrfSubscriptionId]})]}),(0,v.jsxs)(o.rU,{href:"https://vrf.chain.link",isExternal:!0,fontSize:"small",children:["How to Create and Fund a Subscription ",(0,v.jsx)(p.h0,{mx:"2px"})]}),(0,v.jsx)(o.iz,{orientation:"horizontal",margin:"40px 20px 20px 0px",border:"width 10px"}),(0,v.jsx)(o.M5,{children:(0,v.jsx)(x.u,{label:"The reveal process can be automated and further decentralized by asking Chainlink Keepers to call the reveal function when any of the criterias below is met.",placement:"right-start",fontSize:"xs",hasArrow:!0,children:(0,v.jsxs)(o.X6,{as:"h2",size:"s",mb:"2",children:["Chainlink Keepers ",(0,v.jsx)(p.UO,{w:"4",h:"4",mx:"2"})]})})}),(0,v.jsxs)(d.NI,{mt:"4",isInvalid:a.touched.revealBatchSize&&!!a.errors.revealBatchSize,children:[(0,v.jsx)(d.lX,{htmlFor:"revealBatchSize",children:"Batch size"}),(0,v.jsx)(x.u,{label:"Number of unrevealed NFTs in the queue to trigger the reveal process.",placement:"right-start",fontSize:"xs",hasArrow:!0,children:(0,v.jsx)("div",{children:(0,v.jsx)(h.gN,{as:u.II,bg:"white",name:"revealBatchSize",validate:b})})}),a.errors.revealBatchSize&&a.touched.revealBatchSize&&(0,v.jsxs)(d.J1,{children:["Batch size ",a.errors.revealBatchSize]})]}),(0,v.jsxs)(d.NI,{mt:"4",isInvalid:a.touched.revealInterval&&!!a.errors.revealInterval,children:[(0,v.jsx)(d.lX,{htmlFor:"revealInterval",children:"Interval (seconds)"}),(0,v.jsx)(x.u,{label:"Number of seconds since the last reveal needed to trigger the reveal process. Please note at least 1 unrevealed NFT is required for this criteria to apply.",placement:"right-start",fontSize:"xs",hasArrow:!0,children:(0,v.jsx)("div",{children:(0,v.jsx)(h.gN,{as:u.II,bg:"white",name:"revealInterval",validate:b})})}),a.errors.revealInterval&&a.touched.revealInterval&&(0,v.jsxs)(d.J1,{children:["Interval ",a.errors.revealInterval]})]}),(0,v.jsx)(x.u,{hasArrow:!0,label:"Connect to a wallet",placement:"top",shouldWrapChildren:!0,isDisabled:!!s,children:(0,v.jsx)(m.zx,{mt:"8",colorScheme:"teal",type:"submit",isLoading:t,disabled:!s||!!i||t||!a.dirty||Array.isArray(a.errors)||""!=Object.values(a.errors).toString(),children:"Deploy"})})]})})},I=t(2640),y=t(1163),w=t(9748),C=t(7375),z=t(8133),N=function(e){var r,t=e.contractAddress,n=e.deployTxHash,s=e.collectionName,i=a.useState([!1,!1]),c=(0,I.Z)(i,2),h=c[0],d=c[1],u=h.every(Boolean),j=(0,C.VP)(t,3e3),b=j.hasCopied,f=j.onCopy,g=(0,y.useRouter)(),S=(0,l.K)().chainId,N=null===(r=w.B.find((function(e){return e.chainId===S})))||void 0===r?void 0:r.chainName;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(o.X6,{as:"h2",mb:"4",size:"md",children:[s," successfully deployed!"]}),(0,v.jsxs)(o.Ug,{children:[(0,v.jsx)(o.xv,{children:"Address:"}),(0,v.jsx)(o.EK,{children:t}),(0,v.jsx)(x.u,{label:b?"Copied":"Copy to Clipboard",placement:"right-start",fontSize:"xs",hasArrow:!0,closeOnClick:!1,children:(0,v.jsx)(o.rU,{children:(0,v.jsx)(p.TI,{onClick:f,mx:"2px"})})}),(0,v.jsx)(x.u,{label:"Open in Explorer",placement:"right-start",fontSize:"xs",hasArrow:!0,children:(0,v.jsx)(o.rU,{href:"https://".concat("mainnet"===N?"":"".concat(N,"."),"etherscan.io/tx/").concat(n),isExternal:!0,children:(0,v.jsx)(p.h0,{})})})]}),(0,v.jsx)(o.X6,{as:"h3",mt:"8",size:"sm",children:"Next Steps"}),(0,v.jsxs)(o.Kq,{mt:"4",spacing:"4",children:[(0,v.jsxs)(o.Ug,{children:[(0,v.jsx)(z.XZ,{size:"lg",background:"white",isChecked:h[0],onChange:function(e){return d([e.target.checked,h[1]])}}),(0,v.jsx)(o.xv,{children:"1. Add contract as consumer to your VRF subscription"}),(0,v.jsx)(o.rU,{href:"https://vrf.chain.link",isExternal:!0,children:(0,v.jsx)(p.h0,{})})]}),(0,v.jsxs)(o.Ug,{children:[(0,v.jsx)(z.XZ,{size:"lg",background:"white",isChecked:h[1],onChange:function(e){return d([h[0],e.target.checked])}}),(0,v.jsx)(o.xv,{children:"2. Register new Upkeep"}),(0,v.jsx)(o.rU,{href:"https://keepers.chain.link",isExternal:!0,children:(0,v.jsx)(p.h0,{})})]})]}),(0,v.jsx)(m.zx,{mt:"8",colorScheme:"teal",disabled:!u,onClick:function(){g.push("/collection/".concat(t))},children:"View Collection"})]})},k=t(325),F=t(9739),X=t(5553),A=t(1015),T=t(6313);function B(e,r,t){return U.apply(this,arguments)}function U(){return(U=(0,n.Z)(i().mark((function e(r,t,n){var s,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=new F.lV(A.Mt,A.eF,t),e.next=3,s.deploy(r.name,r.symbol,r.maxSupply,X.fi(r.mintCost),r.revealBatchSize,r.revealInterval,T.KU[n],r.vrfSubscriptionId,T.ff[n],T.zx);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var E=function(){var e=(0,l.K)(),r=e.chainId,t=e.library,s=(0,a.useState)(),h=s[0],d=s[1],u=(0,a.useState)(!1),x=u[0],m=u[1],p=(0,a.useState)(""),j=p[0],b=p[1],f=(0,a.useCallback)(function(){var e=(0,n.Z)(i().mark((function e(n){var s,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(""),m(!0),e.prev=2,e.next=5,B(n,null===t||void 0===t?void 0:t.getSigner(),r);case 5:return a=e.sent,e.next=8,a.deployTransaction.wait(0);case 8:s=e.sent,e.next=16;break;case 11:return e.prev=11,e.t0=e.catch(2),e.t0.message?b(e.t0.message):b("Unsuccessful deployment"),m(!1),e.abrupt("return");case 16:d({address:s.contractAddress,txHash:s.transactionHash,name:n.name}),m(!1);case 18:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(r){return e.apply(this,arguments)}}(),[t,r]);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(o.X6,{as:"h1",mb:"8",children:"Create NFT Collection"}),(0,v.jsx)(o.xv,{fontSize:"xl",children:"Setup batch-revealed NFT collection from a pre-built standard contract."}),(0,v.jsxs)(c.$0,{children:[j&&(0,v.jsx)(k.j,{message:j}),h&&(0,v.jsx)(N,{contractAddress:h.address,deployTxHash:h.txHash,collectionName:h.name}),!h&&(0,v.jsx)(S,{onSubmit:f,isLoading:x})]})]})}},7532:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/create",function(){return t(998)}])}},function(e){e.O(0,[876,801,839,15,774,888,179],(function(){return r=7532,e(e.s=r);var r}));var r=e.O();_N_E=r}]);